<html>
<head>
<style type="text/css">.knitr.inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}, 
.warning {
	font-weight: bold;
} 
.message {
	font-style: italic;
} 
.source, .output, .warning, .error, .message {
	padding: 0em 1em;
  border:solid 1px #F7F7F7;
}
.source {
  background-color: #f7f7f7;
}
.rimage.left {
  text-align: left;
}
.rimage.right {
  text-align: right;
}
.rimage.center {
  text-align: center;
}

.source {
  color: #333333;
}
.background {
  color: #F7F7F7;
}

.number {
  color: #000000;
}

.functioncall {
  color: #800054;
  font-weight: bolder;
}

.string {
  color: #9999FF;
}

.keyword {
  font-weight: bolder;
  color: black;
}

.argument {
  color: #B04005;
}

.comment {
  color: #2E9957;
}

.roxygencomment {
  color: #707AB3;
}

.formalargs {
  color: #B04005;
}

.eqformalargs {
  color: #B04005;
}

.assignement {
  font-weight: bolder;
  color: #000000;
}

.package {
  color: #96B525;
}

.slot {
  font-style: italic;
}

.symbol {
  color: #000000;
}

.prompt {
  color: #333333;
}
</style>
  <title>Color Analysis</title>
  <script type="text/javascript">
    function startAllWebGL(){
      rgbwebGLStart();
      pcawebGLStart();
      hclwebGLStart();
      colorspacewebGLStart();
    }
  </script>

</head>
<body onload="startAllWebGL();">

<h1>Color Analysis</h1>
<p>Jeffrey D. Allen
<p>Trestle Technology

<p>This is a quick follow-up to my previous post about <a href="http://www.trestletechnology.net/2012/06/color-palettes-in-rgb-space/">Color Palettes in RGB Space</a>. <a href = "http://eeecon.uibk.ac.at/~zeileis/">Achim Zeileis</a> had commented that, perhaps, it would be more informative to evaluate the color palettes in HCL (polar LUV) space, as that spectrum more accurately describes how humans perceive color. Perhaps more clear trends would emerge in HCL space, or color palettes would more closely hug their principal component. 

<p>For the uninitiated, a good introduction to HCL color spaces is available at <a href ="http://hclcolor.com/">this site</a>, or from Mr. Zeileis' own paper <a href = "http://www.sciencedirect.com/science/article/pii/S0167947308005549">here</a>.

<p>We'll start by loading in some code written previously (or slightly modified to support HCL). We can plot out an image of the different color palettes we're evaluating once again.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="functioncall">source</span>(<span class="string">"../Correlation.R"</span>)
<span class="functioncall">source</span>(<span class="string">"loadPalettes.R"</span>)
<span class="functioncall">par</span>(mfrow = <span class="functioncall">c</span>(6, 3), mar = <span class="functioncall">c</span>(2, 1, 1, 1))
<span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> 1:18) {
    palette &lt;- <span class="functioncall">getSequentialLuv</span>(i, allSequential)
    <span class="functioncall">image</span>(mat, col = <span class="functioncall">hex</span>(palette), axes = <span class="keyword">FALSE</span>, main = i)
}
</pre></div></div><div class="rimage center"><img src="/wp-content/uploads/2012/10/unnamed-chunk-1.png"  class="plot" /></div></div>


<h2>HCL-Space</h2>

<p>The fundamental question for this analysis was how these color palettes move through HCL space, as opposed to RGB space, which was considered last time.

<div align="center" style="border: 1px solid #999;">
	<script src="/wp-content/uploads/2012/05/CanvasMatrix.js" type="text/javascript"></script>
	<canvas id="rgbtextureCanvas" style="display: none;" width="256" height="256">
        <img src="rgbsnapshot.png" alt="rgbsnapshot" width=400/><br>
	Your browser does not support the HTML5 canvas element.</canvas>

	<!-- ****** linestrip object 11160 ****** -->
	<script id="rgbvshader11160" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11160" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11161 ****** -->
	<script id="rgbvshader11161" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11161" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11163 ****** -->
	<script id="rgbvshader11163" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11163" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11164 ****** -->
	<script id="rgbvshader11164" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11164" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11165 ****** -->
	<script id="rgbvshader11165" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11165" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** points object 11166 ****** -->
	<script id="rgbvshader11166" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 6.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11166" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11175 ****** -->
	<script id="rgbvshader11175" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11175" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11176 ****** -->
	<script id="rgbvshader11176" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11176" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11177 ****** -->
	<script id="rgbvshader11177" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11177" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11178 ****** -->
	<script id="rgbvshader11178" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11178" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11179 ****** -->
	<script id="rgbvshader11179" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11179" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11180 ****** -->
	<script id="rgbvshader11180" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="rgbfshader11180" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11181 ****** -->
	<script id="rgbvshader11181" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="rgbfshader11181" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 


	<script type="text/javascript"> 

	function getShader ( gl, id ){
	   var shaderScript = document.getElementById ( id );
	   var str = "";
	   var k = shaderScript.firstChild;
	   while ( k ){
	     if ( k.nodeType == 3 ) str += k.textContent;
	     k = k.nextSibling;
	   }
	   var shader;
	   if ( shaderScript.type == "x-shader/x-fragment" )
             shader = gl.createShader ( gl.FRAGMENT_SHADER );
	   else if ( shaderScript.type == "x-shader/x-vertex" )
             shader = gl.createShader(gl.VERTEX_SHADER);
	   else return null;
	   gl.shaderSource(shader, str);
	   gl.compileShader(shader);
	   if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) == 0)
	     alert(gl.getShaderInfoLog(shader));
	   return shader;
	}

	var min = Math.min;
	var max = Math.max;
	var sqrt = Math.sqrt;
	var sin = Math.sin;
	var acos = Math.acos;
	var tan = Math.tan;
	var SQRT2 = Math.SQRT2;
	var PI = Math.PI;
	var log = Math.log;
	var exp = Math.exp;

	function rgbwebGLStart() {
	   var debug = function(msg) {
	     document.getElementById("rgbdebug").innerHTML = msg;
	   }
	   debug("");

	   var canvas = document.getElementById("rgbcanvas");
	   if (!window.WebGLRenderingContext){
	     debug("<img src=\"rgbsnapshot.png\" alt=\"rgbsnapshot\" width=400/><br> Your browser does not support WebGL. See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var gl;
	   try {
	     // Try to grab the standard context. If it fails, fallback to experimental.
	     gl = canvas.getContext("webgl") 
	       || canvas.getContext("experimental-webgl");
	   }
	   catch(e) {}
	   if ( !gl ) {
	     debug("<img src=\"rgbsnapshot.png\" alt=\"rgbsnapshot\" width=400/><br> Your browser appears to support WebGL, but did not create a WebGL context.  See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var width = 400;  var height = 702.6827;
	   canvas.width = width;   canvas.height = height;
	   gl.viewport(0, 0, width, height);
	   var prMatrix = new CanvasMatrix4();
	   var mvMatrix = new CanvasMatrix4();
	   var normMatrix = new CanvasMatrix4();
	   var saveMat = new CanvasMatrix4();
	   saveMat.makeIdentity();
	   var distance;

	   var zoom = 1.1;
	   var fov = 60;
	   var userMatrix = new CanvasMatrix4();
	   userMatrix.load([
	    -0.1736482, 0.3368241, -0.9254165, 0,
	    0, 0.9396926, 0.3420201, 0,
	    0.9848077, 0.05939118, -0.1631759, 0,
	    0, 0, 0, 1
		]);
	   function getPowerOfTwo(value) {
	     var pow = 1;
	     while(pow<value) {
	       pow *= 2;
	     }
	     return pow;
	   }

	   function handleLoadedTexture(texture, textureCanvas) {
	     gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);

	     gl.bindTexture(gl.TEXTURE_2D, texture);
	     gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
	     gl.generateMipmap(gl.TEXTURE_2D);

	     gl.bindTexture(gl.TEXTURE_2D, null);
	   }
	   
	   function loadImageToTexture(filename, texture) {   
	     var canvas = document.getElementById("rgbtextureCanvas");
	     var ctx = canvas.getContext("2d");
	     var image = new Image();
	     
	     image.onload = function() {
	       var w = image.width;
	       var h = image.height;
	       var canvasX = getPowerOfTwo(w);
	       var canvasY = getPowerOfTwo(h);
	       canvas.width = canvasX;
	       canvas.height = canvasY;
	       ctx.imageSmoothingEnabled = true;
	       ctx.drawImage(image, 0, 0, canvasX, canvasY);
	       handleLoadedTexture(texture, canvas);
   	       drawScene();
	     }
	     image.src = filename;
	   }  	   

	   function drawTextToCanvas(text, cex) {
	     var canvasX, canvasY;
	     var textX, textY;

	     var textHeight = 20 * cex;
	     var textColour = "white";
	     var fontFamily = "Arial";

	     var backgroundColour = "rgba(0,0,0,0)";

	     var canvas = document.getElementById("rgbtextureCanvas");
	     var ctx = canvas.getContext("2d");

	     ctx.font = textHeight+"px "+fontFamily;

             canvasX = 1;
             var widths = [];
	     for (var i = 0; i < text.length; i++)  {
	       widths[i] = ctx.measureText(text[i]).width;
	       canvasX = (widths[i] > canvasX) ? widths[i] : canvasX;
	     }	  
	     canvasX = getPowerOfTwo(canvasX);

	     var offset = 2*textHeight; // offset to first baseline
	     var skip = 2*textHeight;   // skip between baselines	  
	     canvasY = getPowerOfTwo(offset + text.length*skip);
	     
	     canvas.width = canvasX;
	     canvas.height = canvasY;

	     ctx.fillStyle = backgroundColour;
	     ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

	     ctx.fillStyle = textColour;
	     ctx.textAlign = "left";

	     ctx.textBaseline = "alphabetic";
	     ctx.font = textHeight+"px "+fontFamily;

	     for(var i = 0; i < text.length; i++) {
	       textY = i*skip + offset;
	       ctx.fillText(text[i], 0,  textY);
	     }
	     return {canvasX:canvasX, canvasY:canvasY,
	             widths:widths, textHeight:textHeight,
	             offset:offset, skip:skip};
	   }


	   // ****** linestrip object 11160 ******
	   var prog11160  = gl.createProgram();
	   gl.attachShader(prog11160, getShader( gl, "rgbvshader11160" ));
	   gl.attachShader(prog11160, getShader( gl, "rgbfshader11160" ));
	   gl.linkProgram(prog11160);
	   var v=new Float32Array([
	    99.58266, 13.28498, 85.87766, 1, 1, 0.9333333, 1,
	    97.76404, 25.3924, 92.35595, 0.9686275, 0.9882353, 0.8509804, 1,
	    94.75394, 19.80114, 113.579, 0.8980392, 0.9607843, 0.8588235, 1,
	    88.62745, 22.82893, 173.9835, 0.7333333, 0.9098039, 0.8705882, 1,
	    82.91923, 40.36504, 200.6135, 0.5411765, 0.8627451, 0.8901961, 1,
	    75.15077, 53.24784, 216.6693, 0.372549, 0.7803922, 0.8823529, 1,
	    64.92528, 55.06864, 239.644, 0.4, 0.6392157, 0.8313726, 1,
	    53.87612, 66.74389, 259.7405, 0.4156863, 0.4901961, 0.7843137, 1,
	    40.06622, 60.02595, 252.6328, 0.1960784, 0.372549, 0.6235294, 1
	   ]);
	   var posLoc11160 = gl.getAttribLocation(prog11160, "aPos");
	   var colLoc11160 = gl.getAttribLocation(prog11160, "aCol");
	   var buf11160 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11160);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11160 = gl.getUniformLocation(prog11160,"mvMatrix");
	   var prMatLoc11160 = gl.getUniformLocation(prog11160,"prMatrix");


	   // ****** lines object 11161 ******
	   var prog11161  = gl.createProgram();
	   gl.attachShader(prog11161, getShader( gl, "rgbvshader11161" ));
	   gl.attachShader(prog11161, getShader( gl, "rgbfshader11161" ));
	   gl.linkProgram(prog11161);
	   var v=new Float32Array([
	    0, 0, 0,
	    0, 0, 0,
	    100, 160, 360,
	    100, 160, 360
	   ]);
	   var posLoc11161 = gl.getAttribLocation(prog11161, "aPos");
	   var colLoc11161 = gl.getAttribLocation(prog11161, "aCol");
	   var buf11161 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11161);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11161 = gl.getUniformLocation(prog11161,"mvMatrix");
	   var prMatLoc11161 = gl.getUniformLocation(prog11161,"prMatrix");


	   // ****** text object 11163 ******
	   var prog11163  = gl.createProgram();
	   gl.attachShader(prog11163, getShader( gl, "rgbvshader11163" ));
	   gl.attachShader(prog11163, getShader( gl, "rgbfshader11163" ));
	   gl.linkProgram(prog11163);
	   var texts = [
	    "L"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11163 = texinfo.canvasX;
	   var canvasY11163 = texinfo.canvasY;
	   var ofsLoc11163 = gl.getAttribLocation(prog11163, "aOfs");
	   var texture11163 = gl.createTexture();
	   var texLoc11163 = gl.getAttribLocation(prog11163, "aTexcoord");
	   var sampler11163 = gl.getUniformLocation(prog11163,"uSampler");
    	   handleLoadedTexture(texture11163, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    50, -27.12, -61.02, 0, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, 1.5, 0.5, 0.5,
	    50, -27.12, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11163 = gl.getAttribLocation(prog11163, "aPos");
	   var colLoc11163 = gl.getAttribLocation(prog11163, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11163 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11163);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11163 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11163);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11163 = gl.getUniformLocation(prog11163,"mvMatrix");
	   var prMatLoc11163 = gl.getUniformLocation(prog11163,"prMatrix");


	   // ****** text object 11164 ******
	   var prog11164  = gl.createProgram();
	   gl.attachShader(prog11164, getShader( gl, "rgbvshader11164" ));
	   gl.attachShader(prog11164, getShader( gl, "rgbfshader11164" ));
	   gl.linkProgram(prog11164);
	   var texts = [
	    "C"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11164 = texinfo.canvasX;
	   var canvasY11164 = texinfo.canvasY;
	   var ofsLoc11164 = gl.getAttribLocation(prog11164, "aOfs");
	   var texture11164 = gl.createTexture();
	   var texLoc11164 = gl.getAttribLocation(prog11164, "aTexcoord");
	   var sampler11164 = gl.getUniformLocation(prog11164,"uSampler");
    	   handleLoadedTexture(texture11164, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    -16.95, 80, -61.02, 0, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, 1.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11164 = gl.getAttribLocation(prog11164, "aPos");
	   var colLoc11164 = gl.getAttribLocation(prog11164, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11164 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11164);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11164 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11164);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11164 = gl.getUniformLocation(prog11164,"mvMatrix");
	   var prMatLoc11164 = gl.getUniformLocation(prog11164,"prMatrix");


	   // ****** text object 11165 ******
	   var prog11165  = gl.createProgram();
	   gl.attachShader(prog11165, getShader( gl, "rgbvshader11165" ));
	   gl.attachShader(prog11165, getShader( gl, "rgbfshader11165" ));
	   gl.linkProgram(prog11165);
	   var texts = [
	    "H"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11165 = texinfo.canvasX;
	   var canvasY11165 = texinfo.canvasY;
	   var ofsLoc11165 = gl.getAttribLocation(prog11165, "aOfs");
	   var texture11165 = gl.createTexture();
	   var texLoc11165 = gl.getAttribLocation(prog11165, "aTexcoord");
	   var sampler11165 = gl.getUniformLocation(prog11165,"uSampler");
    	   handleLoadedTexture(texture11165, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    -16.95, -27.12, 180, 0, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, 1.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11165 = gl.getAttribLocation(prog11165, "aPos");
	   var colLoc11165 = gl.getAttribLocation(prog11165, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11165 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11165);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11165 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11165);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11165 = gl.getUniformLocation(prog11165,"mvMatrix");
	   var prMatLoc11165 = gl.getUniformLocation(prog11165,"prMatrix");


	   // ****** points object 11166 ******
	   var prog11166  = gl.createProgram();
	   gl.attachShader(prog11166, getShader( gl, "rgbvshader11166" ));
	   gl.attachShader(prog11166, getShader( gl, "rgbfshader11166" ));
	   gl.linkProgram(prog11166);
	   var v=new Float32Array([
	    99.58266, 13.28498, 85.87766, 1, 1, 0.9333333, 1,
	    97.76404, 25.3924, 92.35595, 0.9686275, 0.9882353, 0.8509804, 1,
	    94.75394, 19.80114, 113.579, 0.8980392, 0.9607843, 0.8588235, 1,
	    88.62745, 22.82893, 173.9835, 0.7333333, 0.9098039, 0.8705882, 1,
	    82.91923, 40.36504, 200.6135, 0.5411765, 0.8627451, 0.8901961, 1,
	    75.15077, 53.24784, 216.6693, 0.372549, 0.7803922, 0.8823529, 1,
	    64.92528, 55.06864, 239.644, 0.4, 0.6392157, 0.8313726, 1,
	    53.87612, 66.74389, 259.7405, 0.4156863, 0.4901961, 0.7843137, 1,
	    40.06622, 60.02595, 252.6328, 0.1960784, 0.372549, 0.6235294, 1
	   ]);
	   var posLoc11166 = gl.getAttribLocation(prog11166, "aPos");
	   var colLoc11166 = gl.getAttribLocation(prog11166, "aCol");
	   var buf11166 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11166);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11166 = gl.getUniformLocation(prog11166,"mvMatrix");
	   var prMatLoc11166 = gl.getUniformLocation(prog11166,"prMatrix");


	   // ****** lines object 11175 ******
	   var prog11175  = gl.createProgram();
	   gl.attachShader(prog11175, getShader( gl, "rgbvshader11175" ));
	   gl.attachShader(prog11175, getShader( gl, "rgbfshader11175" ));
	   gl.linkProgram(prog11175);
	   var v=new Float32Array([
	    0, -2.4, -5.4,
	    100, -2.4, -5.4,
	    0, -2.4, -5.4,
	    0, -6.52, -14.67,
	    20, -2.4, -5.4,
	    20, -6.52, -14.67,
	    40, -2.4, -5.4,
	    40, -6.52, -14.67,
	    60, -2.4, -5.4,
	    60, -6.52, -14.67,
	    80, -2.4, -5.4,
	    80, -6.52, -14.67,
	    100, -2.4, -5.4,
	    100, -6.52, -14.67
	   ]);
	   var posLoc11175 = gl.getAttribLocation(prog11175, "aPos");
	   var colLoc11175 = gl.getAttribLocation(prog11175, "aCol");
	   var buf11175 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11175);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11175 = gl.getUniformLocation(prog11175,"mvMatrix");
	   var prMatLoc11175 = gl.getUniformLocation(prog11175,"prMatrix");


	   // ****** text object 11176 ******
	   var prog11176  = gl.createProgram();
	   gl.attachShader(prog11176, getShader( gl, "rgbvshader11176" ));
	   gl.attachShader(prog11176, getShader( gl, "rgbfshader11176" ));
	   gl.linkProgram(prog11176);
	   var texts = [
	    "0",
	    "20",
	    "40",
	    "60",
	    "80",
	    "100"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11176 = texinfo.canvasX;
	   var canvasY11176 = texinfo.canvasY;
	   var ofsLoc11176 = gl.getAttribLocation(prog11176, "aOfs");
	   var texture11176 = gl.createTexture();
	   var texLoc11176 = gl.getAttribLocation(prog11176, "aTexcoord");
	   var sampler11176 = gl.getUniformLocation(prog11176,"uSampler");
    	   handleLoadedTexture(texture11176, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    0, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    0, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    0, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    0, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    20, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    20, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    20, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    20, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    40, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    40, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    40, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    40, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    60, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    60, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    60, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    60, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    80, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    80, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    80, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    80, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    100, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    100, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    100, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    100, -14.76, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<6; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11176 = gl.getAttribLocation(prog11176, "aPos");
	   var colLoc11176 = gl.getAttribLocation(prog11176, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15,
	    16, 17, 18, 16, 18, 19,
	    20, 21, 22, 20, 22, 23
	   ]);
	   var buf11176 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11176);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11176 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11176);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11176 = gl.getUniformLocation(prog11176,"mvMatrix");
	   var prMatLoc11176 = gl.getUniformLocation(prog11176,"prMatrix");


	   // ****** lines object 11177 ******
	   var prog11177  = gl.createProgram();
	   gl.attachShader(prog11177, getShader( gl, "rgbvshader11177" ));
	   gl.attachShader(prog11177, getShader( gl, "rgbfshader11177" ));
	   gl.linkProgram(prog11177);
	   var v=new Float32Array([
	    -1.5, 0, -5.4,
	    -1.5, 150, -5.4,
	    -1.5, 0, -5.4,
	    -4.075, 0, -14.67,
	    -1.5, 50, -5.4,
	    -4.075, 50, -14.67,
	    -1.5, 100, -5.4,
	    -4.075, 100, -14.67,
	    -1.5, 150, -5.4,
	    -4.075, 150, -14.67
	   ]);
	   var posLoc11177 = gl.getAttribLocation(prog11177, "aPos");
	   var colLoc11177 = gl.getAttribLocation(prog11177, "aCol");
	   var buf11177 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11177);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11177 = gl.getUniformLocation(prog11177,"mvMatrix");
	   var prMatLoc11177 = gl.getUniformLocation(prog11177,"prMatrix");


	   // ****** text object 11178 ******
	   var prog11178  = gl.createProgram();
	   gl.attachShader(prog11178, getShader( gl, "rgbvshader11178" ));
	   gl.attachShader(prog11178, getShader( gl, "rgbfshader11178" ));
	   gl.linkProgram(prog11178);
	   var texts = [
	    "0",
	    "50",
	    "100",
	    "150"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11178 = texinfo.canvasX;
	   var canvasY11178 = texinfo.canvasY;
	   var ofsLoc11178 = gl.getAttribLocation(prog11178, "aOfs");
	   var texture11178 = gl.createTexture();
	   var texLoc11178 = gl.getAttribLocation(prog11178, "aTexcoord");
	   var sampler11178 = gl.getUniformLocation(prog11178,"uSampler");
    	   handleLoadedTexture(texture11178, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    -9.225, 0, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11178 = gl.getAttribLocation(prog11178, "aPos");
	   var colLoc11178 = gl.getAttribLocation(prog11178, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11178 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11178);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11178 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11178);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11178 = gl.getUniformLocation(prog11178,"mvMatrix");
	   var prMatLoc11178 = gl.getUniformLocation(prog11178,"prMatrix");


	   // ****** lines object 11179 ******
	   var prog11179  = gl.createProgram();
	   gl.attachShader(prog11179, getShader( gl, "rgbvshader11179" ));
	   gl.attachShader(prog11179, getShader( gl, "rgbfshader11179" ));
	   gl.linkProgram(prog11179);
	   var v=new Float32Array([
	    -1.5, -2.4, 0,
	    -1.5, -2.4, 300,
	    -1.5, -2.4, 0,
	    -4.075, -6.52, 0,
	    -1.5, -2.4, 100,
	    -4.075, -6.52, 100,
	    -1.5, -2.4, 200,
	    -4.075, -6.52, 200,
	    -1.5, -2.4, 300,
	    -4.075, -6.52, 300
	   ]);
	   var posLoc11179 = gl.getAttribLocation(prog11179, "aPos");
	   var colLoc11179 = gl.getAttribLocation(prog11179, "aCol");
	   var buf11179 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11179);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11179 = gl.getUniformLocation(prog11179,"mvMatrix");
	   var prMatLoc11179 = gl.getUniformLocation(prog11179,"prMatrix");


	   // ****** text object 11180 ******
	   var prog11180  = gl.createProgram();
	   gl.attachShader(prog11180, getShader( gl, "rgbvshader11180" ));
	   gl.attachShader(prog11180, getShader( gl, "rgbfshader11180" ));
	   gl.linkProgram(prog11180);
	   var texts = [
	    "0",
	    "100",
	    "200",
	    "300"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11180 = texinfo.canvasX;
	   var canvasY11180 = texinfo.canvasY;
	   var ofsLoc11180 = gl.getAttribLocation(prog11180, "aOfs");
	   var texture11180 = gl.createTexture();
	   var texLoc11180 = gl.getAttribLocation(prog11180, "aTexcoord");
	   var sampler11180 = gl.getUniformLocation(prog11180,"uSampler");
    	   handleLoadedTexture(texture11180, document.getElementById("rgbtextureCanvas"));
	   var v=new Float32Array([
	    -9.225, -14.76, 0, 0, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 0, 1, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 0, 1, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 0, 0, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 100, 0, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 100, 1, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 100, 1, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 100, 0, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 200, 0, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 200, 1, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 200, 1, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 200, 0, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 300, 0, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 300, 1, -0.5, 0.5, 0.5,
	    -9.225, -14.76, 300, 1, 1.5, 0.5, 0.5,
	    -9.225, -14.76, 300, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11180 = gl.getAttribLocation(prog11180, "aPos");
	   var colLoc11180 = gl.getAttribLocation(prog11180, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11180 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11180);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11180 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11180);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11180 = gl.getUniformLocation(prog11180,"mvMatrix");
	   var prMatLoc11180 = gl.getUniformLocation(prog11180,"prMatrix");


	   // ****** lines object 11181 ******
	   var prog11181  = gl.createProgram();
	   gl.attachShader(prog11181, getShader( gl, "rgbvshader11181" ));
	   gl.attachShader(prog11181, getShader( gl, "rgbfshader11181" ));
	   gl.linkProgram(prog11181);
	   var v=new Float32Array([
	    -1.5, -2.4, -5.4,
	    -1.5, 162.4, -5.4,
	    -1.5, -2.4, 365.4,
	    -1.5, 162.4, 365.4,
	    -1.5, -2.4, -5.4,
	    -1.5, -2.4, 365.4,
	    -1.5, 162.4, -5.4,
	    -1.5, 162.4, 365.4,
	    -1.5, -2.4, -5.4,
	    101.5, -2.4, -5.4,
	    -1.5, -2.4, 365.4,
	    101.5, -2.4, 365.4,
	    -1.5, 162.4, -5.4,
	    101.5, 162.4, -5.4,
	    -1.5, 162.4, 365.4,
	    101.5, 162.4, 365.4,
	    101.5, -2.4, -5.4,
	    101.5, 162.4, -5.4,
	    101.5, -2.4, 365.4,
	    101.5, 162.4, 365.4,
	    101.5, -2.4, -5.4,
	    101.5, -2.4, 365.4,
	    101.5, 162.4, -5.4,
	    101.5, 162.4, 365.4
	   ]);
	   var posLoc11181 = gl.getAttribLocation(prog11181, "aPos");
	   var colLoc11181 = gl.getAttribLocation(prog11181, "aCol");
	   var buf11181 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11181);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11181 = gl.getUniformLocation(prog11181,"mvMatrix");
	   var prMatLoc11181 = gl.getUniformLocation(prog11181,"prMatrix");

	   gl.enable(gl.DEPTH_TEST);
	   gl.depthFunc(gl.LEQUAL);
	   gl.clearDepth(1.0);
	   gl.clearColor(1, 1, 1, 1);
	   var xOffs = yOffs = 0,  drag  = 0;
	   drawScene();

	   function drawScene(){
	     gl.depthMask(true);
	     gl.disable(gl.BLEND);
	     var radius = 223.5464;
	     var s = sin(fov*PI/360);
	     var t = tan(fov*PI/360);
	     var distance = radius/s;
	     var near = distance - radius;
	     var far = distance + radius;
	     var hlen = t*near;
	     var aspect = width/height;
	     prMatrix.makeIdentity();
	     if (aspect > 1)
	       prMatrix.frustum(-hlen*aspect*zoom, hlen*aspect*zoom, 
	                        -hlen*zoom, hlen*zoom, near, far);
	     else  
	       prMatrix.frustum(-hlen*zoom, hlen*zoom, 
	                        -hlen*zoom/aspect, hlen*zoom/aspect, 
	                        near, far);
	     mvMatrix.makeIdentity();
	     mvMatrix.translate( -50, -80, -180 );
	     mvMatrix.scale( 2.346629, 1.466643, 0.6518413 );   
	     mvMatrix.multRight( userMatrix );  
	     mvMatrix.translate(0, 0, -distance);
	     gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);


	     // ****** linestrip object 11160 *******
	     gl.useProgram(prog11160);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11160);
	     gl.uniformMatrix4fv( prMatLoc11160, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11160, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11160 );
	     gl.enableVertexAttribArray( colLoc11160 );
	     gl.vertexAttribPointer(colLoc11160, 4, gl.FLOAT, false, 28, 12);
	     gl.lineWidth( 2 );
	     gl.vertexAttribPointer(posLoc11160,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.LINE_STRIP, 0, 9);

	     // ****** lines object 11161 *******
	     gl.useProgram(prog11161);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11161);
	     gl.uniformMatrix4fv( prMatLoc11161, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11161, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11161 );
	     gl.disableVertexAttribArray( colLoc11161 );
	     gl.vertexAttrib4f( colLoc11161, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11161,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 4);

	     // ****** text object 11163 *******
	     gl.useProgram(prog11163);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11163);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11163);
	     gl.uniformMatrix4fv( prMatLoc11163, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11163, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11163 );
	     gl.disableVertexAttribArray( colLoc11163 );
	     gl.vertexAttrib4f( colLoc11163, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11163 );
	     gl.vertexAttribPointer(texLoc11163, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11163);
	     gl.uniform1i( sampler11163, 0);
	     gl.enableVertexAttribArray( ofsLoc11163 );
	     gl.vertexAttribPointer(ofsLoc11163, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11163,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11164 *******
	     gl.useProgram(prog11164);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11164);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11164);
	     gl.uniformMatrix4fv( prMatLoc11164, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11164, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11164 );
	     gl.disableVertexAttribArray( colLoc11164 );
	     gl.vertexAttrib4f( colLoc11164, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11164 );
	     gl.vertexAttribPointer(texLoc11164, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11164);
	     gl.uniform1i( sampler11164, 0);
	     gl.enableVertexAttribArray( ofsLoc11164 );
	     gl.vertexAttribPointer(ofsLoc11164, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11164,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11165 *******
	     gl.useProgram(prog11165);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11165);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11165);
	     gl.uniformMatrix4fv( prMatLoc11165, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11165, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11165 );
	     gl.disableVertexAttribArray( colLoc11165 );
	     gl.vertexAttrib4f( colLoc11165, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11165 );
	     gl.vertexAttribPointer(texLoc11165, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11165);
	     gl.uniform1i( sampler11165, 0);
	     gl.enableVertexAttribArray( ofsLoc11165 );
	     gl.vertexAttribPointer(ofsLoc11165, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11165,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** points object 11166 *******
	     gl.useProgram(prog11166);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11166);
	     gl.uniformMatrix4fv( prMatLoc11166, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11166, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11166 );
	     gl.enableVertexAttribArray( colLoc11166 );
	     gl.vertexAttribPointer(colLoc11166, 4, gl.FLOAT, false, 28, 12);
	     gl.vertexAttribPointer(posLoc11166,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.POINTS, 0, 9);

	     // ****** lines object 11175 *******
	     gl.useProgram(prog11175);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11175);
	     gl.uniformMatrix4fv( prMatLoc11175, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11175, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11175 );
	     gl.disableVertexAttribArray( colLoc11175 );
	     gl.vertexAttrib4f( colLoc11175, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11175,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 14);

	     // ****** text object 11176 *******
	     gl.useProgram(prog11176);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11176);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11176);
	     gl.uniformMatrix4fv( prMatLoc11176, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11176, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11176 );
	     gl.disableVertexAttribArray( colLoc11176 );
	     gl.vertexAttrib4f( colLoc11176, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11176 );
	     gl.vertexAttribPointer(texLoc11176, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11176);
	     gl.uniform1i( sampler11176, 0);
	     gl.enableVertexAttribArray( ofsLoc11176 );
	     gl.vertexAttribPointer(ofsLoc11176, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11176,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11177 *******
	     gl.useProgram(prog11177);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11177);
	     gl.uniformMatrix4fv( prMatLoc11177, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11177, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11177 );
	     gl.disableVertexAttribArray( colLoc11177 );
	     gl.vertexAttrib4f( colLoc11177, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11177,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11178 *******
	     gl.useProgram(prog11178);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11178);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11178);
	     gl.uniformMatrix4fv( prMatLoc11178, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11178, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11178 );
	     gl.disableVertexAttribArray( colLoc11178 );
	     gl.vertexAttrib4f( colLoc11178, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11178 );
	     gl.vertexAttribPointer(texLoc11178, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11178);
	     gl.uniform1i( sampler11178, 0);
	     gl.enableVertexAttribArray( ofsLoc11178 );
	     gl.vertexAttribPointer(ofsLoc11178, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11178,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11179 *******
	     gl.useProgram(prog11179);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11179);
	     gl.uniformMatrix4fv( prMatLoc11179, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11179, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11179 );
	     gl.disableVertexAttribArray( colLoc11179 );
	     gl.vertexAttrib4f( colLoc11179, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11179,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11180 *******
	     gl.useProgram(prog11180);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11180);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11180);
	     gl.uniformMatrix4fv( prMatLoc11180, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11180, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11180 );
	     gl.disableVertexAttribArray( colLoc11180 );
	     gl.vertexAttrib4f( colLoc11180, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11180 );
	     gl.vertexAttribPointer(texLoc11180, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11180);
	     gl.uniform1i( sampler11180, 0);
	     gl.enableVertexAttribArray( ofsLoc11180 );
	     gl.vertexAttribPointer(ofsLoc11180, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11180,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11181 *******
	     gl.useProgram(prog11181);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11181);
	     gl.uniformMatrix4fv( prMatLoc11181, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11181, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11181 );
	     gl.disableVertexAttribArray( colLoc11181 );
	     gl.vertexAttrib4f( colLoc11181, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11181,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 24);

	     gl.flush ();
	   }

	   var vlen = function(v) {
	     return sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2])
	   }
	   
	   var xprod = function(a, b) {
	     return [a[1]*b[2] - a[2]*b[1],
	             a[2]*b[0] - a[0]*b[2],
	             a[0]*b[1] - a[1]*b[0]];
	   }

	   var screenToVector = function(x, y) {
	     var radius = max(width, height)/2.0;
	     var cx = width/2.0;
	     var cy = height/2.0;
	     var px = (x-cx)/radius;
	     var py = (y-cy)/radius;
	     var plen = sqrt(px*px+py*py);
	     if (plen > 1.e-6) { 
	       px = px/plen;
	       py = py/plen;
	     }

	     var angle = (SQRT2 - plen)/SQRT2*PI/2;
	     var z = sin(angle);
	     var zlen = sqrt(1.0 - z*z);
	     px = px * zlen;
	     py = py * zlen;
	     return [px, py, z];
	   }

	   var rotBase;

	   var trackballdown = function(x,y) {
	     rotBase = screenToVector(x, y);
	     saveMat.load(userMatrix);
	   }
	   
	   var trackballmove = function(x,y) {
	     var rotCurrent = screenToVector(x,y);
	     var dot = rotBase[0]*rotCurrent[0] + 
	   	       rotBase[1]*rotCurrent[1] + 
	   	       rotBase[2]*rotCurrent[2];
	     var angle = acos( dot/vlen(rotBase)/vlen(rotCurrent) )*180./PI;
	     var axis = xprod(rotBase, rotCurrent);
	     userMatrix.load(saveMat);
	     userMatrix.rotate(angle, axis[0], axis[1], axis[2]);
	     drawScene();
	   }

	   var y0zoom = 0;
	   var zoom0 = 1;
	   var zoomdown = function(x, y) {
	     y0zoom = y;
	     zoom0 = log(zoom);
	   }

	   var zoommove = function(x, y) {
	     zoom = exp(zoom0 + (y-y0zoom)/height);
	     drawScene();
	   }

	   var y0fov = 0;
	   var fov0 = 1;
	   var fovdown = function(x, y) {
	     y0fov = y;
	     fov0 = fov;
	   }

	   var fovmove = function(x, y) {
	     fov = max(1, min(179, fov0 + 180*(y-y0fov)/height));
	     drawScene();
	   }

	   var mousedown = [trackballdown, zoomdown, fovdown];
	   var mousemove = [trackballmove, zoommove, fovmove];

	   function relMouseCoords(event){
	     var totalOffsetX = 0;
	     var totalOffsetY = 0;
	     var currentElement = canvas;
	   
	     do{
	       totalOffsetX += currentElement.offsetLeft;
	       totalOffsetY += currentElement.offsetTop;
	     }
	     while(currentElement = currentElement.offsetParent)
	   
	     var canvasX = event.pageX - totalOffsetX;
	     var canvasY = event.pageY - totalOffsetY;
	   
	     return {x:canvasX, y:canvasY}
	   }

	   canvas.onmousedown = function ( ev ){
	     if (!ev.which) // Use w3c defns in preference to MS
	       switch (ev.button) {
	       case 0: ev.which = 1; break;
	       case 1: 
	       case 4: ev.which = 2; break;
	       case 2: ev.which = 3;
	     }
	     drag = ev.which;
	     var f = mousedown[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y); 
	       ev.preventDefault();
	     }
	   }    

	   canvas.onmouseup = function ( ev ){	
	     drag = 0;
	   }
	   
	   canvas.onmouseout = canvas.onmouseup;

	   canvas.onmousemove = function ( ev ){
	     if ( drag == 0 ) return;
	     var f = mousemove[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y);
	     }
	   }

	   var wheelHandler = function(ev) {
	     var del = 1.1;
	     if (ev.shiftKey) del = 1.01;
	     var ds = ((ev.detail || ev.wheelDelta) > 0) ? del : (1 / del);
	     zoom *= ds;
	     drawScene();
	     ev.preventDefault();
	   };
	   canvas.addEventListener("DOMMouseScroll", wheelHandler, false);
	   canvas.addEventListener("mousewheel", wheelHandler, false);

	}
	</script>

	<canvas id="rgbcanvas" width="1" height="1"></canvas> 
        <p id="rgbdebug">
	<img src="rgbsnapshot.png" alt="rgbsnapshot" width=400/><br>
	You must enable Javascript to view this page properly.</p>
An interactive visualization of palette #2 in 3-Dimensional HCL space
</div>

<h3>R<sup>2</sup> Values</h3>

<p>As we did in the previous analysis, we can use the principal component of each palette, to compute the R<sup>2</sup> value to quantify how well the data aligns to this component. 

<div align="center" style="border: 1px solid #999;">
	<script src="/wp-content/uploads/2012/05/CanvasMatrix.js" type="text/javascript"></script>
	<canvas id="pcatextureCanvas" style="display: none;" width="256" height="256">
        <img src="pcasnapshot.png" alt="pcasnapshot" width=400/><br>
	Your browser does not support the HTML5 canvas element.</canvas>

	<!-- ****** linestrip object 11182 ****** -->
	<script id="pcavshader11182" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11182" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11183 ****** -->
	<script id="pcavshader11183" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11183" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11185 ****** -->
	<script id="pcavshader11185" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11185" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11186 ****** -->
	<script id="pcavshader11186" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11186" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11187 ****** -->
	<script id="pcavshader11187" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11187" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** points object 11188 ****** -->
	<script id="pcavshader11188" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 6.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11188" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** linestrip object 11189 ****** -->
	<script id="pcavshader11189" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11189" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11190 ****** -->
	<script id="pcavshader11190" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11190" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11199 ****** -->
	<script id="pcavshader11199" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11199" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11200 ****** -->
	<script id="pcavshader11200" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11200" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11201 ****** -->
	<script id="pcavshader11201" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11201" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11202 ****** -->
	<script id="pcavshader11202" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11202" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11203 ****** -->
	<script id="pcavshader11203" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11203" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11204 ****** -->
	<script id="pcavshader11204" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="pcafshader11204" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11205 ****** -->
	<script id="pcavshader11205" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="pcafshader11205" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 


	<script type="text/javascript"> 

	function getShader ( gl, id ){
	   var shaderScript = document.getElementById ( id );
	   var str = "";
	   var k = shaderScript.firstChild;
	   while ( k ){
	     if ( k.nodeType == 3 ) str += k.textContent;
	     k = k.nextSibling;
	   }
	   var shader;
	   if ( shaderScript.type == "x-shader/x-fragment" )
             shader = gl.createShader ( gl.FRAGMENT_SHADER );
	   else if ( shaderScript.type == "x-shader/x-vertex" )
             shader = gl.createShader(gl.VERTEX_SHADER);
	   else return null;
	   gl.shaderSource(shader, str);
	   gl.compileShader(shader);
	   if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) == 0)
	     alert(gl.getShaderInfoLog(shader));
	   return shader;
	}

	var min = Math.min;
	var max = Math.max;
	var sqrt = Math.sqrt;
	var sin = Math.sin;
	var acos = Math.acos;
	var tan = Math.tan;
	var SQRT2 = Math.SQRT2;
	var PI = Math.PI;
	var log = Math.log;
	var exp = Math.exp;

	function pcawebGLStart() {
	   var debug = function(msg) {
	     document.getElementById("pcadebug").innerHTML = msg;
	   }
	   debug("");

	   var canvas = document.getElementById("pcacanvas");
	   if (!window.WebGLRenderingContext){
	     debug("<img src=\"pcasnapshot.png\" alt=\"pcasnapshot\" width=400/><br> Your browser does not support WebGL. See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var gl;
	   try {
	     // Try to grab the standard context. If it fails, fallback to experimental.
	     gl = canvas.getContext("webgl") 
	       || canvas.getContext("experimental-webgl");
	   }
	   catch(e) {}
	   if ( !gl ) {
	     debug("<img src=\"pcasnapshot.png\" alt=\"pcasnapshot\" width=400/><br> Your browser appears to support WebGL, but did not create a WebGL context.  See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var width = 400;  var height = 702.6827;
	   canvas.width = width;   canvas.height = height;
	   gl.viewport(0, 0, width, height);
	   var prMatrix = new CanvasMatrix4();
	   var mvMatrix = new CanvasMatrix4();
	   var normMatrix = new CanvasMatrix4();
	   var saveMat = new CanvasMatrix4();
	   saveMat.makeIdentity();
	   var distance;

	   var zoom = 1.1;
	   var fov = 60;
	   var userMatrix = new CanvasMatrix4();
	   userMatrix.load([
	    -0.1736482, 0.3368241, -0.9254165, 0,
	    0, 0.9396926, 0.3420201, 0,
	    0.9848077, 0.05939118, -0.1631759, 0,
	    0, 0, 0, 1
		]);
	   function getPowerOfTwo(value) {
	     var pow = 1;
	     while(pow<value) {
	       pow *= 2;
	     }
	     return pow;
	   }

	   function handleLoadedTexture(texture, textureCanvas) {
	     gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);

	     gl.bindTexture(gl.TEXTURE_2D, texture);
	     gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
	     gl.generateMipmap(gl.TEXTURE_2D);

	     gl.bindTexture(gl.TEXTURE_2D, null);
	   }
	   
	   function loadImageToTexture(filename, texture) {   
	     var canvas = document.getElementById("pcatextureCanvas");
	     var ctx = canvas.getContext("2d");
	     var image = new Image();
	     
	     image.onload = function() {
	       var w = image.width;
	       var h = image.height;
	       var canvasX = getPowerOfTwo(w);
	       var canvasY = getPowerOfTwo(h);
	       canvas.width = canvasX;
	       canvas.height = canvasY;
	       ctx.imageSmoothingEnabled = true;
	       ctx.drawImage(image, 0, 0, canvasX, canvasY);
	       handleLoadedTexture(texture, canvas);
   	       drawScene();
	     }
	     image.src = filename;
	   }  	   

	   function drawTextToCanvas(text, cex) {
	     var canvasX, canvasY;
	     var textX, textY;

	     var textHeight = 20 * cex;
	     var textColour = "white";
	     var fontFamily = "Arial";

	     var backgroundColour = "rgba(0,0,0,0)";

	     var canvas = document.getElementById("pcatextureCanvas");
	     var ctx = canvas.getContext("2d");

	     ctx.font = textHeight+"px "+fontFamily;

             canvasX = 1;
             var widths = [];
	     for (var i = 0; i < text.length; i++)  {
	       widths[i] = ctx.measureText(text[i]).width;
	       canvasX = (widths[i] > canvasX) ? widths[i] : canvasX;
	     }	  
	     canvasX = getPowerOfTwo(canvasX);

	     var offset = 2*textHeight; // offset to first baseline
	     var skip = 2*textHeight;   // skip between baselines	  
	     canvasY = getPowerOfTwo(offset + text.length*skip);
	     
	     canvas.width = canvasX;
	     canvas.height = canvasY;

	     ctx.fillStyle = backgroundColour;
	     ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

	     ctx.fillStyle = textColour;
	     ctx.textAlign = "left";

	     ctx.textBaseline = "alphabetic";
	     ctx.font = textHeight+"px "+fontFamily;

	     for(var i = 0; i < text.length; i++) {
	       textY = i*skip + offset;
	       ctx.fillText(text[i], 0,  textY);
	     }
	     return {canvasX:canvasX, canvasY:canvasY,
	             widths:widths, textHeight:textHeight,
	             offset:offset, skip:skip};
	   }


	   // ****** linestrip object 11182 ******
	   var prog11182  = gl.createProgram();
	   gl.attachShader(prog11182, getShader( gl, "pcavshader11182" ));
	   gl.attachShader(prog11182, getShader( gl, "pcafshader11182" ));
	   gl.linkProgram(prog11182);
	   var v=new Float32Array([
	    99.58266, 13.28498, 85.87766, 1, 1, 0.9333333, 1,
	    97.76404, 25.3924, 92.35595, 0.9686275, 0.9882353, 0.8509804, 1,
	    94.75394, 19.80114, 113.579, 0.8980392, 0.9607843, 0.8588235, 1,
	    88.62745, 22.82893, 173.9835, 0.7333333, 0.9098039, 0.8705882, 1,
	    82.91923, 40.36504, 200.6135, 0.5411765, 0.8627451, 0.8901961, 1,
	    75.15077, 53.24784, 216.6693, 0.372549, 0.7803922, 0.8823529, 1,
	    64.92528, 55.06864, 239.644, 0.4, 0.6392157, 0.8313726, 1,
	    53.87612, 66.74389, 259.7405, 0.4156863, 0.4901961, 0.7843137, 1,
	    40.06622, 60.02595, 252.6328, 0.1960784, 0.372549, 0.6235294, 1
	   ]);
	   var posLoc11182 = gl.getAttribLocation(prog11182, "aPos");
	   var colLoc11182 = gl.getAttribLocation(prog11182, "aCol");
	   var buf11182 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11182);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11182 = gl.getUniformLocation(prog11182,"mvMatrix");
	   var prMatLoc11182 = gl.getUniformLocation(prog11182,"prMatrix");


	   // ****** lines object 11183 ******
	   var prog11183  = gl.createProgram();
	   gl.attachShader(prog11183, getShader( gl, "pcavshader11183" ));
	   gl.attachShader(prog11183, getShader( gl, "pcafshader11183" ));
	   gl.linkProgram(prog11183);
	   var v=new Float32Array([
	    0, 0, 0,
	    0, 0, 0,
	    100, 160, 360,
	    100, 160, 360
	   ]);
	   var posLoc11183 = gl.getAttribLocation(prog11183, "aPos");
	   var colLoc11183 = gl.getAttribLocation(prog11183, "aCol");
	   var buf11183 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11183);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11183 = gl.getUniformLocation(prog11183,"mvMatrix");
	   var prMatLoc11183 = gl.getUniformLocation(prog11183,"prMatrix");


	   // ****** text object 11185 ******
	   var prog11185  = gl.createProgram();
	   gl.attachShader(prog11185, getShader( gl, "pcavshader11185" ));
	   gl.attachShader(prog11185, getShader( gl, "pcafshader11185" ));
	   gl.linkProgram(prog11185);
	   var texts = [
	    "L"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11185 = texinfo.canvasX;
	   var canvasY11185 = texinfo.canvasY;
	   var ofsLoc11185 = gl.getAttribLocation(prog11185, "aOfs");
	   var texture11185 = gl.createTexture();
	   var texLoc11185 = gl.getAttribLocation(prog11185, "aTexcoord");
	   var sampler11185 = gl.getUniformLocation(prog11185,"uSampler");
    	   handleLoadedTexture(texture11185, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    50, -27.12, -61.02, 0, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, 1.5, 0.5, 0.5,
	    50, -27.12, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11185 = gl.getAttribLocation(prog11185, "aPos");
	   var colLoc11185 = gl.getAttribLocation(prog11185, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11185 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11185);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11185 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11185);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11185 = gl.getUniformLocation(prog11185,"mvMatrix");
	   var prMatLoc11185 = gl.getUniformLocation(prog11185,"prMatrix");


	   // ****** text object 11186 ******
	   var prog11186  = gl.createProgram();
	   gl.attachShader(prog11186, getShader( gl, "pcavshader11186" ));
	   gl.attachShader(prog11186, getShader( gl, "pcafshader11186" ));
	   gl.linkProgram(prog11186);
	   var texts = [
	    "C"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11186 = texinfo.canvasX;
	   var canvasY11186 = texinfo.canvasY;
	   var ofsLoc11186 = gl.getAttribLocation(prog11186, "aOfs");
	   var texture11186 = gl.createTexture();
	   var texLoc11186 = gl.getAttribLocation(prog11186, "aTexcoord");
	   var sampler11186 = gl.getUniformLocation(prog11186,"uSampler");
    	   handleLoadedTexture(texture11186, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    -16.95, 80, -61.02, 0, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, 1.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11186 = gl.getAttribLocation(prog11186, "aPos");
	   var colLoc11186 = gl.getAttribLocation(prog11186, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11186 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11186);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11186 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11186);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11186 = gl.getUniformLocation(prog11186,"mvMatrix");
	   var prMatLoc11186 = gl.getUniformLocation(prog11186,"prMatrix");


	   // ****** text object 11187 ******
	   var prog11187  = gl.createProgram();
	   gl.attachShader(prog11187, getShader( gl, "pcavshader11187" ));
	   gl.attachShader(prog11187, getShader( gl, "pcafshader11187" ));
	   gl.linkProgram(prog11187);
	   var texts = [
	    "H"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11187 = texinfo.canvasX;
	   var canvasY11187 = texinfo.canvasY;
	   var ofsLoc11187 = gl.getAttribLocation(prog11187, "aOfs");
	   var texture11187 = gl.createTexture();
	   var texLoc11187 = gl.getAttribLocation(prog11187, "aTexcoord");
	   var sampler11187 = gl.getUniformLocation(prog11187,"uSampler");
    	   handleLoadedTexture(texture11187, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    -16.95, -27.12, 180, 0, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, 1.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11187 = gl.getAttribLocation(prog11187, "aPos");
	   var colLoc11187 = gl.getAttribLocation(prog11187, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11187 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11187);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11187 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11187);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11187 = gl.getUniformLocation(prog11187,"mvMatrix");
	   var prMatLoc11187 = gl.getUniformLocation(prog11187,"prMatrix");


	   // ****** points object 11188 ******
	   var prog11188  = gl.createProgram();
	   gl.attachShader(prog11188, getShader( gl, "pcavshader11188" ));
	   gl.attachShader(prog11188, getShader( gl, "pcafshader11188" ));
	   gl.linkProgram(prog11188);
	   var v=new Float32Array([
	    99.58266, 13.28498, 85.87766, 1, 1, 0.9333333, 1,
	    97.76404, 25.3924, 92.35595, 0.9686275, 0.9882353, 0.8509804, 1,
	    94.75394, 19.80114, 113.579, 0.8980392, 0.9607843, 0.8588235, 1,
	    88.62745, 22.82893, 173.9835, 0.7333333, 0.9098039, 0.8705882, 1,
	    82.91923, 40.36504, 200.6135, 0.5411765, 0.8627451, 0.8901961, 1,
	    75.15077, 53.24784, 216.6693, 0.372549, 0.7803922, 0.8823529, 1,
	    64.92528, 55.06864, 239.644, 0.4, 0.6392157, 0.8313726, 1,
	    53.87612, 66.74389, 259.7405, 0.4156863, 0.4901961, 0.7843137, 1,
	    40.06622, 60.02595, 252.6328, 0.1960784, 0.372549, 0.6235294, 1
	   ]);
	   var posLoc11188 = gl.getAttribLocation(prog11188, "aPos");
	   var colLoc11188 = gl.getAttribLocation(prog11188, "aCol");
	   var buf11188 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11188);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11188 = gl.getUniformLocation(prog11188,"mvMatrix");
	   var prMatLoc11188 = gl.getUniformLocation(prog11188,"prMatrix");


	   // ****** linestrip object 11189 ******
	   var prog11189  = gl.createProgram();
	   gl.attachShader(prog11189, getShader( gl, "pcavshader11189" ));
	   gl.attachShader(prog11189, getShader( gl, "pcafshader11189" ));
	   gl.linkProgram(prog11189);
	   var v=new Float32Array([
	    55.14358, 61.53391, 261.7343,
	    104.0363, 13.69176, 86.79641
	   ]);
	   var posLoc11189 = gl.getAttribLocation(prog11189, "aPos");
	   var colLoc11189 = gl.getAttribLocation(prog11189, "aCol");
	   var buf11189 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11189);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11189 = gl.getUniformLocation(prog11189,"mvMatrix");
	   var prMatLoc11189 = gl.getUniformLocation(prog11189,"prMatrix");


	   // ****** text object 11190 ******
	   var prog11190  = gl.createProgram();
	   gl.attachShader(prog11190, getShader( gl, "pcavshader11190" ));
	   gl.attachShader(prog11190, getShader( gl, "pcafshader11190" ));
	   gl.linkProgram(prog11190);
	   var texts = [
	    "R2 = 0.9794"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11190 = texinfo.canvasX;
	   var canvasY11190 = texinfo.canvasY;
	   var ofsLoc11190 = gl.getAttribLocation(prog11190, "aOfs");
	   var texture11190 = gl.createTexture();
	   var texLoc11190 = gl.getAttribLocation(prog11190, "aTexcoord");
	   var sampler11190 = gl.getUniformLocation(prog11190,"uSampler");
    	   handleLoadedTexture(texture11190, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    50, 50, 250, 0, -0.5, 0.5, 0.5,
	    50, 50, 250, 1, -0.5, 0.5, 0.5,
	    50, 50, 250, 1, 1.5, 0.5, 0.5,
	    50, 50, 250, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11190 = gl.getAttribLocation(prog11190, "aPos");
	   var colLoc11190 = gl.getAttribLocation(prog11190, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11190 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11190);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11190 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11190);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11190 = gl.getUniformLocation(prog11190,"mvMatrix");
	   var prMatLoc11190 = gl.getUniformLocation(prog11190,"prMatrix");


	   // ****** lines object 11199 ******
	   var prog11199  = gl.createProgram();
	   gl.attachShader(prog11199, getShader( gl, "pcavshader11199" ));
	   gl.attachShader(prog11199, getShader( gl, "pcafshader11199" ));
	   gl.linkProgram(prog11199);
	   var v=new Float32Array([
	    0, -2.4, -5.4,
	    100, -2.4, -5.4,
	    0, -2.4, -5.4,
	    0, -6.52, -14.67,
	    20, -2.4, -5.4,
	    20, -6.52, -14.67,
	    40, -2.4, -5.4,
	    40, -6.52, -14.67,
	    60, -2.4, -5.4,
	    60, -6.52, -14.67,
	    80, -2.4, -5.4,
	    80, -6.52, -14.67,
	    100, -2.4, -5.4,
	    100, -6.52, -14.67
	   ]);
	   var posLoc11199 = gl.getAttribLocation(prog11199, "aPos");
	   var colLoc11199 = gl.getAttribLocation(prog11199, "aCol");
	   var buf11199 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11199);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11199 = gl.getUniformLocation(prog11199,"mvMatrix");
	   var prMatLoc11199 = gl.getUniformLocation(prog11199,"prMatrix");


	   // ****** text object 11200 ******
	   var prog11200  = gl.createProgram();
	   gl.attachShader(prog11200, getShader( gl, "pcavshader11200" ));
	   gl.attachShader(prog11200, getShader( gl, "pcafshader11200" ));
	   gl.linkProgram(prog11200);
	   var texts = [
	    "0",
	    "20",
	    "40",
	    "60",
	    "80",
	    "100"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11200 = texinfo.canvasX;
	   var canvasY11200 = texinfo.canvasY;
	   var ofsLoc11200 = gl.getAttribLocation(prog11200, "aOfs");
	   var texture11200 = gl.createTexture();
	   var texLoc11200 = gl.getAttribLocation(prog11200, "aTexcoord");
	   var sampler11200 = gl.getUniformLocation(prog11200,"uSampler");
    	   handleLoadedTexture(texture11200, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    0, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    0, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    0, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    0, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    20, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    20, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    20, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    20, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    40, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    40, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    40, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    40, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    60, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    60, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    60, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    60, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    80, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    80, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    80, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    80, -14.76, -33.21, 0, 1.5, 0.5, 0.5,
	    100, -14.76, -33.21, 0, -0.5, 0.5, 0.5,
	    100, -14.76, -33.21, 1, -0.5, 0.5, 0.5,
	    100, -14.76, -33.21, 1, 1.5, 0.5, 0.5,
	    100, -14.76, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<6; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11200 = gl.getAttribLocation(prog11200, "aPos");
	   var colLoc11200 = gl.getAttribLocation(prog11200, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15,
	    16, 17, 18, 16, 18, 19,
	    20, 21, 22, 20, 22, 23
	   ]);
	   var buf11200 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11200);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11200 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11200);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11200 = gl.getUniformLocation(prog11200,"mvMatrix");
	   var prMatLoc11200 = gl.getUniformLocation(prog11200,"prMatrix");


	   // ****** lines object 11201 ******
	   var prog11201  = gl.createProgram();
	   gl.attachShader(prog11201, getShader( gl, "pcavshader11201" ));
	   gl.attachShader(prog11201, getShader( gl, "pcafshader11201" ));
	   gl.linkProgram(prog11201);
	   var v=new Float32Array([
	    -1.560545, 0, -5.4,
	    -1.560545, 150, -5.4,
	    -1.560545, 0, -5.4,
	    -4.23948, 0, -14.67,
	    -1.560545, 50, -5.4,
	    -4.23948, 50, -14.67,
	    -1.560545, 100, -5.4,
	    -4.23948, 100, -14.67,
	    -1.560545, 150, -5.4,
	    -4.23948, 150, -14.67
	   ]);
	   var posLoc11201 = gl.getAttribLocation(prog11201, "aPos");
	   var colLoc11201 = gl.getAttribLocation(prog11201, "aCol");
	   var buf11201 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11201);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11201 = gl.getUniformLocation(prog11201,"mvMatrix");
	   var prMatLoc11201 = gl.getUniformLocation(prog11201,"prMatrix");


	   // ****** text object 11202 ******
	   var prog11202  = gl.createProgram();
	   gl.attachShader(prog11202, getShader( gl, "pcavshader11202" ));
	   gl.attachShader(prog11202, getShader( gl, "pcafshader11202" ));
	   gl.linkProgram(prog11202);
	   var texts = [
	    "0",
	    "50",
	    "100",
	    "150"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11202 = texinfo.canvasX;
	   var canvasY11202 = texinfo.canvasY;
	   var ofsLoc11202 = gl.getAttribLocation(prog11202, "aOfs");
	   var texture11202 = gl.createTexture();
	   var texLoc11202 = gl.getAttribLocation(prog11202, "aTexcoord");
	   var sampler11202 = gl.getUniformLocation(prog11202,"uSampler");
    	   handleLoadedTexture(texture11202, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    -9.597351, 0, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.597351, 0, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.597351, 0, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.597351, 0, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.597351, 50, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.597351, 50, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.597351, 50, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.597351, 50, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.597351, 100, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.597351, 100, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.597351, 100, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.597351, 100, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.597351, 150, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.597351, 150, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.597351, 150, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.597351, 150, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11202 = gl.getAttribLocation(prog11202, "aPos");
	   var colLoc11202 = gl.getAttribLocation(prog11202, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11202 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11202);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11202 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11202);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11202 = gl.getUniformLocation(prog11202,"mvMatrix");
	   var prMatLoc11202 = gl.getUniformLocation(prog11202,"prMatrix");


	   // ****** lines object 11203 ******
	   var prog11203  = gl.createProgram();
	   gl.attachShader(prog11203, getShader( gl, "pcavshader11203" ));
	   gl.attachShader(prog11203, getShader( gl, "pcafshader11203" ));
	   gl.linkProgram(prog11203);
	   var v=new Float32Array([
	    -1.560545, -2.4, 0,
	    -1.560545, -2.4, 300,
	    -1.560545, -2.4, 0,
	    -4.23948, -6.52, 0,
	    -1.560545, -2.4, 100,
	    -4.23948, -6.52, 100,
	    -1.560545, -2.4, 200,
	    -4.23948, -6.52, 200,
	    -1.560545, -2.4, 300,
	    -4.23948, -6.52, 300
	   ]);
	   var posLoc11203 = gl.getAttribLocation(prog11203, "aPos");
	   var colLoc11203 = gl.getAttribLocation(prog11203, "aCol");
	   var buf11203 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11203);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11203 = gl.getUniformLocation(prog11203,"mvMatrix");
	   var prMatLoc11203 = gl.getUniformLocation(prog11203,"prMatrix");


	   // ****** text object 11204 ******
	   var prog11204  = gl.createProgram();
	   gl.attachShader(prog11204, getShader( gl, "pcavshader11204" ));
	   gl.attachShader(prog11204, getShader( gl, "pcafshader11204" ));
	   gl.linkProgram(prog11204);
	   var texts = [
	    "0",
	    "100",
	    "200",
	    "300"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11204 = texinfo.canvasX;
	   var canvasY11204 = texinfo.canvasY;
	   var ofsLoc11204 = gl.getAttribLocation(prog11204, "aOfs");
	   var texture11204 = gl.createTexture();
	   var texLoc11204 = gl.getAttribLocation(prog11204, "aTexcoord");
	   var sampler11204 = gl.getUniformLocation(prog11204,"uSampler");
    	   handleLoadedTexture(texture11204, document.getElementById("pcatextureCanvas"));
	   var v=new Float32Array([
	    -9.597351, -14.76, 0, 0, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 0, 1, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 0, 1, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 0, 0, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 100, 0, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 100, 1, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 100, 1, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 100, 0, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 200, 0, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 200, 1, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 200, 1, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 200, 0, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 300, 0, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 300, 1, -0.5, 0.5, 0.5,
	    -9.597351, -14.76, 300, 1, 1.5, 0.5, 0.5,
	    -9.597351, -14.76, 300, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11204 = gl.getAttribLocation(prog11204, "aPos");
	   var colLoc11204 = gl.getAttribLocation(prog11204, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11204 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11204);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11204 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11204);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11204 = gl.getUniformLocation(prog11204,"mvMatrix");
	   var prMatLoc11204 = gl.getUniformLocation(prog11204,"prMatrix");


	   // ****** lines object 11205 ******
	   var prog11205  = gl.createProgram();
	   gl.attachShader(prog11205, getShader( gl, "pcavshader11205" ));
	   gl.attachShader(prog11205, getShader( gl, "pcafshader11205" ));
	   gl.linkProgram(prog11205);
	   var v=new Float32Array([
	    -1.560545, -2.4, -5.4,
	    -1.560545, 162.4, -5.4,
	    -1.560545, -2.4, 365.4,
	    -1.560545, 162.4, 365.4,
	    -1.560545, -2.4, -5.4,
	    -1.560545, -2.4, 365.4,
	    -1.560545, 162.4, -5.4,
	    -1.560545, 162.4, 365.4,
	    -1.560545, -2.4, -5.4,
	    105.5969, -2.4, -5.4,
	    -1.560545, -2.4, 365.4,
	    105.5969, -2.4, 365.4,
	    -1.560545, 162.4, -5.4,
	    105.5969, 162.4, -5.4,
	    -1.560545, 162.4, 365.4,
	    105.5969, 162.4, 365.4,
	    105.5969, -2.4, -5.4,
	    105.5969, 162.4, -5.4,
	    105.5969, -2.4, 365.4,
	    105.5969, 162.4, 365.4,
	    105.5969, -2.4, -5.4,
	    105.5969, -2.4, 365.4,
	    105.5969, 162.4, -5.4,
	    105.5969, 162.4, 365.4
	   ]);
	   var posLoc11205 = gl.getAttribLocation(prog11205, "aPos");
	   var colLoc11205 = gl.getAttribLocation(prog11205, "aCol");
	   var buf11205 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11205);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11205 = gl.getUniformLocation(prog11205,"mvMatrix");
	   var prMatLoc11205 = gl.getUniformLocation(prog11205,"prMatrix");

	   gl.enable(gl.DEPTH_TEST);
	   gl.depthFunc(gl.LEQUAL);
	   gl.clearDepth(1.0);
	   gl.clearColor(1, 1, 1, 1);
	   var xOffs = yOffs = 0,  drag  = 0;
	   drawScene();

	   function drawScene(){
	     gl.depthMask(true);
	     gl.disable(gl.BLEND);
	     var radius = 226.594;
	     var s = sin(fov*PI/360);
	     var t = tan(fov*PI/360);
	     var distance = radius/s;
	     var near = distance - radius;
	     var far = distance + radius;
	     var hlen = t*near;
	     var aspect = width/height;
	     prMatrix.makeIdentity();
	     if (aspect > 1)
	       prMatrix.frustum(-hlen*aspect*zoom, hlen*aspect*zoom, 
	                        -hlen*zoom, hlen*zoom, near, far);
	     else  
	       prMatrix.frustum(-hlen*zoom, hlen*zoom, 
	                        -hlen*zoom/aspect, hlen*zoom/aspect, 
	                        near, far);
	     mvMatrix.makeIdentity();
	     mvMatrix.translate( -52.01817, -80, -180 );
	     mvMatrix.scale( 2.346629, 1.466643, 0.6518413 );   
	     mvMatrix.multRight( userMatrix );  
	     mvMatrix.translate(0, 0, -distance);
	     gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);


	     // ****** linestrip object 11182 *******
	     gl.useProgram(prog11182);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11182);
	     gl.uniformMatrix4fv( prMatLoc11182, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11182, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11182 );
	     gl.enableVertexAttribArray( colLoc11182 );
	     gl.vertexAttribPointer(colLoc11182, 4, gl.FLOAT, false, 28, 12);
	     gl.lineWidth( 2 );
	     gl.vertexAttribPointer(posLoc11182,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.LINE_STRIP, 0, 9);

	     // ****** lines object 11183 *******
	     gl.useProgram(prog11183);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11183);
	     gl.uniformMatrix4fv( prMatLoc11183, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11183, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11183 );
	     gl.disableVertexAttribArray( colLoc11183 );
	     gl.vertexAttrib4f( colLoc11183, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11183,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 4);

	     // ****** text object 11185 *******
	     gl.useProgram(prog11185);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11185);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11185);
	     gl.uniformMatrix4fv( prMatLoc11185, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11185, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11185 );
	     gl.disableVertexAttribArray( colLoc11185 );
	     gl.vertexAttrib4f( colLoc11185, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11185 );
	     gl.vertexAttribPointer(texLoc11185, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11185);
	     gl.uniform1i( sampler11185, 0);
	     gl.enableVertexAttribArray( ofsLoc11185 );
	     gl.vertexAttribPointer(ofsLoc11185, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11185,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11186 *******
	     gl.useProgram(prog11186);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11186);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11186);
	     gl.uniformMatrix4fv( prMatLoc11186, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11186, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11186 );
	     gl.disableVertexAttribArray( colLoc11186 );
	     gl.vertexAttrib4f( colLoc11186, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11186 );
	     gl.vertexAttribPointer(texLoc11186, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11186);
	     gl.uniform1i( sampler11186, 0);
	     gl.enableVertexAttribArray( ofsLoc11186 );
	     gl.vertexAttribPointer(ofsLoc11186, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11186,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11187 *******
	     gl.useProgram(prog11187);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11187);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11187);
	     gl.uniformMatrix4fv( prMatLoc11187, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11187, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11187 );
	     gl.disableVertexAttribArray( colLoc11187 );
	     gl.vertexAttrib4f( colLoc11187, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11187 );
	     gl.vertexAttribPointer(texLoc11187, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11187);
	     gl.uniform1i( sampler11187, 0);
	     gl.enableVertexAttribArray( ofsLoc11187 );
	     gl.vertexAttribPointer(ofsLoc11187, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11187,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** points object 11188 *******
	     gl.useProgram(prog11188);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11188);
	     gl.uniformMatrix4fv( prMatLoc11188, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11188, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11188 );
	     gl.enableVertexAttribArray( colLoc11188 );
	     gl.vertexAttribPointer(colLoc11188, 4, gl.FLOAT, false, 28, 12);
	     gl.vertexAttribPointer(posLoc11188,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.POINTS, 0, 9);

	     // ****** linestrip object 11189 *******
	     gl.useProgram(prog11189);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11189);
	     gl.uniformMatrix4fv( prMatLoc11189, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11189, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11189 );
	     gl.disableVertexAttribArray( colLoc11189 );
	     gl.vertexAttrib4f( colLoc11189, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11189,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINE_STRIP, 0, 2);

	     // ****** text object 11190 *******
	     gl.useProgram(prog11190);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11190);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11190);
	     gl.uniformMatrix4fv( prMatLoc11190, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11190, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11190 );
	     gl.disableVertexAttribArray( colLoc11190 );
	     gl.vertexAttrib4f( colLoc11190, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11190 );
	     gl.vertexAttribPointer(texLoc11190, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11190);
	     gl.uniform1i( sampler11190, 0);
	     gl.enableVertexAttribArray( ofsLoc11190 );
	     gl.vertexAttribPointer(ofsLoc11190, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11190,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11199 *******
	     gl.useProgram(prog11199);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11199);
	     gl.uniformMatrix4fv( prMatLoc11199, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11199, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11199 );
	     gl.disableVertexAttribArray( colLoc11199 );
	     gl.vertexAttrib4f( colLoc11199, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11199,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 14);

	     // ****** text object 11200 *******
	     gl.useProgram(prog11200);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11200);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11200);
	     gl.uniformMatrix4fv( prMatLoc11200, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11200, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11200 );
	     gl.disableVertexAttribArray( colLoc11200 );
	     gl.vertexAttrib4f( colLoc11200, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11200 );
	     gl.vertexAttribPointer(texLoc11200, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11200);
	     gl.uniform1i( sampler11200, 0);
	     gl.enableVertexAttribArray( ofsLoc11200 );
	     gl.vertexAttribPointer(ofsLoc11200, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11200,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11201 *******
	     gl.useProgram(prog11201);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11201);
	     gl.uniformMatrix4fv( prMatLoc11201, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11201, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11201 );
	     gl.disableVertexAttribArray( colLoc11201 );
	     gl.vertexAttrib4f( colLoc11201, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11201,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11202 *******
	     gl.useProgram(prog11202);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11202);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11202);
	     gl.uniformMatrix4fv( prMatLoc11202, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11202, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11202 );
	     gl.disableVertexAttribArray( colLoc11202 );
	     gl.vertexAttrib4f( colLoc11202, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11202 );
	     gl.vertexAttribPointer(texLoc11202, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11202);
	     gl.uniform1i( sampler11202, 0);
	     gl.enableVertexAttribArray( ofsLoc11202 );
	     gl.vertexAttribPointer(ofsLoc11202, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11202,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11203 *******
	     gl.useProgram(prog11203);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11203);
	     gl.uniformMatrix4fv( prMatLoc11203, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11203, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11203 );
	     gl.disableVertexAttribArray( colLoc11203 );
	     gl.vertexAttrib4f( colLoc11203, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11203,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11204 *******
	     gl.useProgram(prog11204);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11204);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11204);
	     gl.uniformMatrix4fv( prMatLoc11204, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11204, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11204 );
	     gl.disableVertexAttribArray( colLoc11204 );
	     gl.vertexAttrib4f( colLoc11204, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11204 );
	     gl.vertexAttribPointer(texLoc11204, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11204);
	     gl.uniform1i( sampler11204, 0);
	     gl.enableVertexAttribArray( ofsLoc11204 );
	     gl.vertexAttribPointer(ofsLoc11204, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11204,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11205 *******
	     gl.useProgram(prog11205);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11205);
	     gl.uniformMatrix4fv( prMatLoc11205, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11205, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11205 );
	     gl.disableVertexAttribArray( colLoc11205 );
	     gl.vertexAttrib4f( colLoc11205, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11205,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 24);

	     gl.flush ();
	   }

	   var vlen = function(v) {
	     return sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2])
	   }
	   
	   var xprod = function(a, b) {
	     return [a[1]*b[2] - a[2]*b[1],
	             a[2]*b[0] - a[0]*b[2],
	             a[0]*b[1] - a[1]*b[0]];
	   }

	   var screenToVector = function(x, y) {
	     var radius = max(width, height)/2.0;
	     var cx = width/2.0;
	     var cy = height/2.0;
	     var px = (x-cx)/radius;
	     var py = (y-cy)/radius;
	     var plen = sqrt(px*px+py*py);
	     if (plen > 1.e-6) { 
	       px = px/plen;
	       py = py/plen;
	     }

	     var angle = (SQRT2 - plen)/SQRT2*PI/2;
	     var z = sin(angle);
	     var zlen = sqrt(1.0 - z*z);
	     px = px * zlen;
	     py = py * zlen;
	     return [px, py, z];
	   }

	   var rotBase;

	   var trackballdown = function(x,y) {
	     rotBase = screenToVector(x, y);
	     saveMat.load(userMatrix);
	   }
	   
	   var trackballmove = function(x,y) {
	     var rotCurrent = screenToVector(x,y);
	     var dot = rotBase[0]*rotCurrent[0] + 
	   	       rotBase[1]*rotCurrent[1] + 
	   	       rotBase[2]*rotCurrent[2];
	     var angle = acos( dot/vlen(rotBase)/vlen(rotCurrent) )*180./PI;
	     var axis = xprod(rotBase, rotCurrent);
	     userMatrix.load(saveMat);
	     userMatrix.rotate(angle, axis[0], axis[1], axis[2]);
	     drawScene();
	   }

	   var y0zoom = 0;
	   var zoom0 = 1;
	   var zoomdown = function(x, y) {
	     y0zoom = y;
	     zoom0 = log(zoom);
	   }

	   var zoommove = function(x, y) {
	     zoom = exp(zoom0 + (y-y0zoom)/height);
	     drawScene();
	   }

	   var y0fov = 0;
	   var fov0 = 1;
	   var fovdown = function(x, y) {
	     y0fov = y;
	     fov0 = fov;
	   }

	   var fovmove = function(x, y) {
	     fov = max(1, min(179, fov0 + 180*(y-y0fov)/height));
	     drawScene();
	   }

	   var mousedown = [trackballdown, zoomdown, fovdown];
	   var mousemove = [trackballmove, zoommove, fovmove];

	   function relMouseCoords(event){
	     var totalOffsetX = 0;
	     var totalOffsetY = 0;
	     var currentElement = canvas;
	   
	     do{
	       totalOffsetX += currentElement.offsetLeft;
	       totalOffsetY += currentElement.offsetTop;
	     }
	     while(currentElement = currentElement.offsetParent)
	   
	     var canvasX = event.pageX - totalOffsetX;
	     var canvasY = event.pageY - totalOffsetY;
	   
	     return {x:canvasX, y:canvasY}
	   }

	   canvas.onmousedown = function ( ev ){
	     if (!ev.which) // Use w3c defns in preference to MS
	       switch (ev.button) {
	       case 0: ev.which = 1; break;
	       case 1: 
	       case 4: ev.which = 2; break;
	       case 2: ev.which = 3;
	     }
	     drag = ev.which;
	     var f = mousedown[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y); 
	       ev.preventDefault();
	     }
	   }    

	   canvas.onmouseup = function ( ev ){	
	     drag = 0;
	   }
	   
	   canvas.onmouseout = canvas.onmouseup;

	   canvas.onmousemove = function ( ev ){
	     if ( drag == 0 ) return;
	     var f = mousemove[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y);
	     }
	   }

	   var wheelHandler = function(ev) {
	     var del = 1.1;
	     if (ev.shiftKey) del = 1.01;
	     var ds = ((ev.detail || ev.wheelDelta) > 0) ? del : (1 / del);
	     zoom *= ds;
	     drawScene();
	     ev.preventDefault();
	   };
	   canvas.addEventListener("DOMMouseScroll", wheelHandler, false);
	   canvas.addEventListener("mousewheel", wheelHandler, false);

	}
	</script>

	<canvas id="pcacanvas" width="1" height="1"></canvas> 
        <p id="pcadebug">
	<img src="pcasnapshot.png" alt="pcasnapshot" width=400/><br>
	You must enable Javascript to view this page properly.</p>
Palette #2 with the Principal Component.
</div>

<p>We'll recycle some of the old functions, and create a new one that calculates the R<sup>2</sup> values in HCL space.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="comment">#' Compute the proportion of variance accounted <span class="keyword">for</span> by the given number of components</span>
<span class="comment">#'</span>
<span class="comment">#' @author Jeffrey D. Allen \email{Jeffrey.Allen@@UTSouthwestern.edu}</span>
propVar &lt;- <span class="functioncall"><span class="keyword">function</span></span>(pca, components=1){
  <span class="comment">#proportion of variance explained by the first component</span>
  pv &lt;- pca$sdev^2/<span class="functioncall">sum</span>(pca$sdev^2)[1] 
  <span class="functioncall">return</span>(<span class="functioncall">sum</span>(pv[1:components]))
}

<span class="comment">#' Calculate the R-squared values of all 18 color palettes</span>
<span class="comment">#'</span>
<span class="comment">#' @author Jeffrey D. Allen \email{Jeffrey.Allen@@UTSouthwestern.edu}</span>
calcR2Sequential &lt;- <span class="functioncall"><span class="keyword">function</span></span>(){
  <span class="functioncall">library</span>(rgl)
  R2 &lt;- <span class="functioncall">list</span>()
  <span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> <span class="functioncall">which</span>(sequential[,2] == 9)){
    palette &lt;- <span class="functioncall">RGBToLuv</span>(sequential[i:(i+8), 7:9])
    pca &lt;-<span class="functioncall">plotLuvCols</span>(palette[,<span class="string">"L"</span>],palette[,<span class="string">"C"</span>], palette[,<span class="string">"H"</span>], pca=1)    
    R2[[<span class="functioncall">length</span>(R2)+1]] &lt;- <span class="functioncall">propVar</span>(pca,1)
  }
  <span class="functioncall">return</span>(R2)
}

calcR2RGBSequential &lt;- <span class="functioncall"><span class="keyword">function</span></span>() {
    <span class="functioncall">library</span>(rgl)
    R2 &lt;- <span class="functioncall">list</span>()
    <span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> <span class="functioncall">which</span>(sequential[, 2] == 9)) {
        palette &lt;- sequential[i:(i + 8), 7:9]
        pca &lt;- <span class="functioncall">plotCols</span>(palette$R, palette$G, palette$B, pca = 1)
        <span class="functioncall">cat</span>(i, <span class="string">": "</span>, <span class="functioncall">propVar</span>(pca, 1), <span class="string">"\n"</span>)
        R2[[<span class="functioncall">length</span>(R2) + 1]] &lt;- <span class="functioncall">propVar</span>(pca, 1)
    }
    <span class="functioncall">return</span>(R2)
}
</pre></div></div></div>


<h3>Comparison of R<sup>2</sup> Values</h3>

<p>Let's compare the R<sup>2</sup> values computed from RGB space to those computed in HCL space

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="comment"># R2 Values <span class="keyword">in</span> HCL Space</span>
r2 &lt;- <span class="functioncall">calcR2Sequential</span>()
r2 &lt;- <span class="functioncall">unlist</span>(r2)
<span class="functioncall">names</span>(r2) &lt;- 1:18

<span class="comment"># R2 Values <span class="keyword">in</span> RGB Space</span>
rgbr2 &lt;- <span class="functioncall">calcR2RGBSequential</span>()
</pre></div><div class="output"><pre class="knitr r">## 34 :  0.981 
## 76 :  0.9097 
## 118 :  0.9541 
## 160 :  0.9847 
## 202 :  0.9552 
## 244 :  0.9663 
## 286 :  0.9674 
## 328 :  0.9273 
## 370 :  0.9344 
## 412 :  0.9593 
## 454 :  0.9049 
## 496 :  0.9007 
## 538 :  0.9954 
## 580 :  0.9752 
## 622 :  0.9846 
## 664 :  0.9292 
## 706 :  0.9311 
## 748 :  1
</pre></div><div class="source"><pre class="knitr r">rgbr2 &lt;- <span class="functioncall">unlist</span>(rgbr2)
<span class="functioncall">names</span>(rgbr2) &lt;- 1:18

<span class="comment"># plot the comparison</span>
<span class="functioncall">plot</span>(rgbr2 ~ r2, ylab = <span class="string">"RGB R2 Values"</span>, xlab = <span class="string">"HCL R2 Values"</span>, main = <span class="string">"RGB vs. HCL R2 Values"</span>)
</pre></div></div><div class="rimage center"><img src="/wp-content/uploads/2012/10/unnamed-chunk-3.png"  class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r">pv &lt;- <span class="functioncall">anova</span>(<span class="functioncall">lm</span>(rgbr2 ~ r2))$<span class="string">"<span class="functioncall">Pr</span>(&gt;F)"</span>[1]
</pre></div></div></div>


<p>As seen clearly in the plot, these two variables are not correlated (p-value of <code class="knitr inline">0.5232</code>), so there's definitely a difference in how these palettes move through HCL vs. RGB space.

<h2>Color Ratings</h2>

<p>One hypothesis of this analysis was that because HCL space corresponds more directly to our perception of color, perhaps a smoother or more linear path through HCL space would have greater consequence on the visual appeal of the color palette than it would in RGB space. To test this, we can repeat the same analysis as we had before to see if a small R<sup>2</sup> value is significantly correlated with the visual appeal of a color palette.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">colorPreference &lt;- <span class="functioncall">read.csv</span>(<span class="string">"../turk/output/Batch_790445_batch_results.csv"</span>, 
    header = <span class="keyword">TRUE</span>, stringsAsFactors = <span class="keyword">FALSE</span>)
colorPreference &lt;- colorPreference[, 28:29]
colorPreference[, 1] &lt;- <span class="functioncall">substr</span>(colorPreference[, 1], 44, 100)
colorPreference[, 1] &lt;- <span class="functioncall">substr</span>(colorPreference[, 1], 0, <span class="functioncall">nchar</span>(colorPreference[, 
    1]) - 4)
<span class="functioncall">colnames</span>(colorPreference) &lt;- <span class="functioncall">c</span>(<span class="string">"palette"</span>, <span class="string">"rating"</span>)

prefList &lt;- <span class="functioncall">split</span>(colorPreference[, 2], colorPreference[, 1])
prefList &lt;- prefList[<span class="functioncall">order</span>(<span class="functioncall">as.integer</span>(<span class="functioncall">names</span>(prefList)))]
</pre></div></div></div>


<h3>R<sup>2</sup> Values</h3>

<p>We can calculate the R<sup>2</sup> values for each palette as previously discussed and compare to see if it's associated with the aesthetic appeal of a palette.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">
r2
</pre></div><div class="output"><pre class="knitr r">##      1      2      3      4      5      6      7      8      9     10 
## 0.9614 0.9794 0.9799 0.9388 0.9708 0.8902 0.9651 0.9579 0.9725 0.9842 
##     11     12     13     14     15     16     17     18 
## 0.9325 0.9129 0.9603 0.9358 0.9568 0.9611 0.9785 1.0000
</pre></div><div class="source"><pre class="knitr r">
<span class="functioncall">plot</span>(avgs ~ r2, main = <span class="string">"Linearity of Color Palette vs. Aesthetic Appeal"</span>, xlab = <span class="string">"R-squared Value"</span>, 
    ylab = <span class="string">"Average Aesthetic Rating"</span>)
<span class="functioncall">abline</span>(<span class="functioncall">lm</span>(avgs ~ r2), col = 4)
</pre></div></div><div class="rimage center"><img src="/wp-content/uploads/2012/10/unnamed-chunk-5.png"  class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r">
pv &lt;- <span class="functioncall">anova</span>(<span class="functioncall">lm</span>(avgs ~ r2))$<span class="string">"<span class="functioncall">Pr</span>(&gt;F)"</span>[1]
</pre></div></div></div>


<p>Oddly, this result contradicts the previous result; it seems that adhering to a linear path through HCL space is actually <i>inversely</i> related with the aesthetic appeal on these palettes. We should note, of course, that the p-value for this correlation is not significant, as it stands (p-value = <code class="knitr inline">0.6598</code>). 

<p>Regardless, the negative trend seems fairly obvious on inspection and, if you were to exclude the two "outlier" palettes on the left side which have stark breaks in HCL space on either end of the spectrum, you get a significant (0.01) negative correlation. Indeed, these same two palettes were the same outliers in the previous plot comparing RGB to HCL R<sup>2</sup> values. 

<p>Obviously, as it stands, the conclusion of the analysis is that there is no correlation in these palettes between linearity in HCL space and aesthetic appeal, but it is curious that the hinted correlation is actually negative.

<h3>Dimensional Spread</h3>

<p>Another point of interest is the "spread" or coverage of a palette across one particular axis. For instance, it may be interesting to compare a color palette which varies only in luminance to one which varies only in chroma to see if one type of progression is more aesthetically appealing.

<p>We can summarize such a phenomenon by calculating the distance between each color in a palette along a given axis (luminosity, for instance), which we'll label "&Delta;Luminosity" the . Extracting the median of these points may provide some insight into the movement of a particular palette along an axis.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">plotDimensionalScoring &lt;- <span class="functioncall"><span class="keyword">function</span></span>(palettes, scoring, ...) {
    
    ranges &lt;- <span class="functioncall">data.frame</span>(L = <span class="functioncall">numeric</span>(0), C = <span class="functioncall">numeric</span>(0), H = <span class="functioncall">numeric</span>(0))
    
    <span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> 1:<span class="functioncall">length</span>(palettes)) {
        colPal &lt;- <span class="functioncall">RGBToLuv</span>(palettes[[i]])
        
        <span class="comment"># get the differences between each color on each axis</span>
        colPal &lt;- <span class="functioncall">diff</span>(colPal)
        colPal &lt;- <span class="functioncall">abs</span>(<span class="functioncall">apply</span>(colPal, 2, median))
        
        ranges[i, ] &lt;- colPal
        
    }
    
    <span class="functioncall">plot3d</span>(0, 0, 0, xlab = <span class="string">"L"</span>, ylab = <span class="string">"C"</span>, zlab = <span class="string">"H"</span>, type = <span class="string">"n"</span>, xlim = <span class="functioncall">c</span>(-0.5, 
        <span class="functioncall">max</span>(ranges[, 1] + 1)), ylim = <span class="functioncall">c</span>(-0.5, <span class="functioncall">max</span>(ranges[, 2] + 1)), zlim = <span class="functioncall">c</span>(-0.5, 
        <span class="functioncall">max</span>(ranges[, 3] + 1)), ...)
    
    cols &lt;- <span class="functioncall">heat_hcl</span>(n = 101)
    
    <span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> 1:<span class="functioncall">nrow</span>(ranges)) {
        <span class="functioncall">plot3d</span>(ranges[i, 1], ranges[i, 2], ranges[i, 3], type = <span class="string">"p"</span>, add = <span class="keyword">TRUE</span>, 
            pch = 19, size = 10, col = cols[101 - (<span class="functioncall">round</span>(scoring[i], 2) * 100)], 
            ...)
    }
    ranges
}

normAvgs &lt;- avgs - <span class="functioncall">min</span>(avgs)
normAvgs &lt;- normAvgs/<span class="functioncall">max</span>(normAvgs)
ranges &lt;- <span class="functioncall">plotDimensionalScoring</span>(allSequential, normAvgs)
</pre></div></div></div>


<p>Each palette now has one median &Delta; value for each axis. We can plot these in 3D space to see where the palettes fall. We'll go ahead and color-code these based on their average visual appeal to see if we can observe any trends or "hotspots" in which palettes are consistently rated as visually appealing based only on their median movement along an axis.

<div align="center" style="border: 1px solid #999;">
	<script src="/wp-content/uploads/2012/05/CanvasMatrix.js" type="text/javascript"></script>
	<canvas id="hcltextureCanvas" style="display: none;" width="256" height="256">
        <img src="hclsnapshot.png" alt="hclsnapshot" width=400/><br>
	Your browser does not support the HTML5 canvas element.</canvas>

	<!-- ****** lines object 11206 ****** -->
	<script id="hclvshader11206" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11206" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11207 ****** -->
	<script id="hclvshader11207" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11207" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11209 ****** -->
	<script id="hclvshader11209" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11209" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11210 ****** -->
	<script id="hclvshader11210" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11210" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11211 ****** -->
	<script id="hclvshader11211" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11211" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** points object 11212 ****** -->
	<script id="hclvshader11212" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11212" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11213 ****** -->
	<script id="hclvshader11213" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11213" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11214 ****** -->
	<script id="hclvshader11214" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11214" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11215 ****** -->
	<script id="hclvshader11215" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11215" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11216 ****** -->
	<script id="hclvshader11216" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11216" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11217 ****** -->
	<script id="hclvshader11217" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11217" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11218 ****** -->
	<script id="hclvshader11218" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11218" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11219 ****** -->
	<script id="hclvshader11219" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11219" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11220 ****** -->
	<script id="hclvshader11220" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11220" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11221 ****** -->
	<script id="hclvshader11221" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11221" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11222 ****** -->
	<script id="hclvshader11222" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11222" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11223 ****** -->
	<script id="hclvshader11223" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11223" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11224 ****** -->
	<script id="hclvshader11224" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11224" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11225 ****** -->
	<script id="hclvshader11225" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11225" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11226 ****** -->
	<script id="hclvshader11226" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11226" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11227 ****** -->
	<script id="hclvshader11227" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11227" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11228 ****** -->
	<script id="hclvshader11228" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11228" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** points object 11229 ****** -->
	<script id="hclvshader11229" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 10.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11229" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11230 ****** -->
	<script id="hclvshader11230" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11230" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11231 ****** -->
	<script id="hclvshader11231" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11231" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11232 ****** -->
	<script id="hclvshader11232" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11232" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11233 ****** -->
	<script id="hclvshader11233" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11233" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11234 ****** -->
	<script id="hclvshader11234" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11234" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11235 ****** -->
	<script id="hclvshader11235" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="hclfshader11235" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11236 ****** -->
	<script id="hclvshader11236" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="hclfshader11236" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 


	<script type="text/javascript"> 

	function getShader ( gl, id ){
	   var shaderScript = document.getElementById ( id );
	   var str = "";
	   var k = shaderScript.firstChild;
	   while ( k ){
	     if ( k.nodeType == 3 ) str += k.textContent;
	     k = k.nextSibling;
	   }
	   var shader;
	   if ( shaderScript.type == "x-shader/x-fragment" )
             shader = gl.createShader ( gl.FRAGMENT_SHADER );
	   else if ( shaderScript.type == "x-shader/x-vertex" )
             shader = gl.createShader(gl.VERTEX_SHADER);
	   else return null;
	   gl.shaderSource(shader, str);
	   gl.compileShader(shader);
	   if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) == 0)
	     alert(gl.getShaderInfoLog(shader));
	   return shader;
	}

	var min = Math.min;
	var max = Math.max;
	var sqrt = Math.sqrt;
	var sin = Math.sin;
	var acos = Math.acos;
	var tan = Math.tan;
	var SQRT2 = Math.SQRT2;
	var PI = Math.PI;
	var log = Math.log;
	var exp = Math.exp;

	function hclwebGLStart() {
	   var debug = function(msg) {
	     document.getElementById("hcldebug").innerHTML = msg;
	   }
	   debug("");

	   var canvas = document.getElementById("hclcanvas");
	   if (!window.WebGLRenderingContext){
	     debug("<img src=\"hclsnapshot.png\" alt=\"hclsnapshot\" width=400/><br> Your browser does not support WebGL. See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var gl;
	   try {
	     // Try to grab the standard context. If it fails, fallback to experimental.
	     gl = canvas.getContext("webgl") 
	       || canvas.getContext("experimental-webgl");
	   }
	   catch(e) {}
	   if ( !gl ) {
	     debug("<img src=\"hclsnapshot.png\" alt=\"hclsnapshot\" width=400/><br> Your browser appears to support WebGL, but did not create a WebGL context.  See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var width = 400;  var height = 702.6827;
	   canvas.width = width;   canvas.height = height;
	   gl.viewport(0, 0, width, height);
	   var prMatrix = new CanvasMatrix4();
	   var mvMatrix = new CanvasMatrix4();
	   var normMatrix = new CanvasMatrix4();
	   var saveMat = new CanvasMatrix4();
	   saveMat.makeIdentity();
	   var distance;

	   var zoom = 1.1;
	   var fov = 60;
	   var userMatrix = new CanvasMatrix4();
	   userMatrix.load([
	    -0.1736482, 0.3368241, -0.9254165, 0,
	    0, 0.9396926, 0.3420201, 0,
	    0.9848077, 0.05939118, -0.1631759, 0,
	    0, 0, 0, 1
		]);
	   function getPowerOfTwo(value) {
	     var pow = 1;
	     while(pow<value) {
	       pow *= 2;
	     }
	     return pow;
	   }

	   function handleLoadedTexture(texture, textureCanvas) {
	     gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);

	     gl.bindTexture(gl.TEXTURE_2D, texture);
	     gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
	     gl.generateMipmap(gl.TEXTURE_2D);

	     gl.bindTexture(gl.TEXTURE_2D, null);
	   }
	   
	   function loadImageToTexture(filename, texture) {   
	     var canvas = document.getElementById("hcltextureCanvas");
	     var ctx = canvas.getContext("2d");
	     var image = new Image();
	     
	     image.onload = function() {
	       var w = image.width;
	       var h = image.height;
	       var canvasX = getPowerOfTwo(w);
	       var canvasY = getPowerOfTwo(h);
	       canvas.width = canvasX;
	       canvas.height = canvasY;
	       ctx.imageSmoothingEnabled = true;
	       ctx.drawImage(image, 0, 0, canvasX, canvasY);
	       handleLoadedTexture(texture, canvas);
   	       drawScene();
	     }
	     image.src = filename;
	   }  	   

	   function drawTextToCanvas(text, cex) {
	     var canvasX, canvasY;
	     var textX, textY;

	     var textHeight = 20 * cex;
	     var textColour = "white";
	     var fontFamily = "Arial";

	     var backgroundColour = "rgba(0,0,0,0)";

	     var canvas = document.getElementById("hcltextureCanvas");
	     var ctx = canvas.getContext("2d");

	     ctx.font = textHeight+"px "+fontFamily;

             canvasX = 1;
             var widths = [];
	     for (var i = 0; i < text.length; i++)  {
	       widths[i] = ctx.measureText(text[i]).width;
	       canvasX = (widths[i] > canvasX) ? widths[i] : canvasX;
	     }	  
	     canvasX = getPowerOfTwo(canvasX);

	     var offset = 2*textHeight; // offset to first baseline
	     var skip = 2*textHeight;   // skip between baselines	  
	     canvasY = getPowerOfTwo(offset + text.length*skip);
	     
	     canvas.width = canvasX;
	     canvas.height = canvasY;

	     ctx.fillStyle = backgroundColour;
	     ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

	     ctx.fillStyle = textColour;
	     ctx.textAlign = "left";

	     ctx.textBaseline = "alphabetic";
	     ctx.font = textHeight+"px "+fontFamily;

	     for(var i = 0; i < text.length; i++) {
	       textY = i*skip + offset;
	       ctx.fillText(text[i], 0,  textY);
	     }
	     return {canvasX:canvasX, canvasY:canvasY,
	             widths:widths, textHeight:textHeight,
	             offset:offset, skip:skip};
	   }


	   // ****** lines object 11206 ******
	   var prog11206  = gl.createProgram();
	   gl.attachShader(prog11206, getShader( gl, "hclvshader11206" ));
	   gl.attachShader(prog11206, getShader( gl, "hclfshader11206" ));
	   gl.linkProgram(prog11206);
	   var v=new Float32Array([
	    0, 0, 0,
	    0, 0, 0,
	    0, 0, 0,
	    0, 0, 0
	   ]);
	   var posLoc11206 = gl.getAttribLocation(prog11206, "aPos");
	   var colLoc11206 = gl.getAttribLocation(prog11206, "aCol");
	   var buf11206 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11206);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11206 = gl.getUniformLocation(prog11206,"mvMatrix");
	   var prMatLoc11206 = gl.getUniformLocation(prog11206,"prMatrix");


	   // ****** lines object 11207 ******
	   var prog11207  = gl.createProgram();
	   gl.attachShader(prog11207, getShader( gl, "hclvshader11207" ));
	   gl.attachShader(prog11207, getShader( gl, "hclfshader11207" ));
	   gl.linkProgram(prog11207);
	   var v=new Float32Array([
	    -0.5, -0.5, -0.5,
	    -0.5, -0.5, -0.5,
	    9.010827, 16.90595, 22.11781,
	    9.010827, 16.90595, 22.11781
	   ]);
	   var posLoc11207 = gl.getAttribLocation(prog11207, "aPos");
	   var colLoc11207 = gl.getAttribLocation(prog11207, "aCol");
	   var buf11207 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11207);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11207 = gl.getUniformLocation(prog11207,"mvMatrix");
	   var prMatLoc11207 = gl.getUniformLocation(prog11207,"prMatrix");


	   // ****** text object 11209 ******
	   var prog11209  = gl.createProgram();
	   gl.attachShader(prog11209, getShader( gl, "hclvshader11209" ));
	   gl.attachShader(prog11209, getShader( gl, "hclfshader11209" ));
	   gl.linkProgram(prog11209);
	   var texts = [
	    "L"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11209 = texinfo.canvasX;
	   var canvasY11209 = texinfo.canvasY;
	   var ofsLoc11209 = gl.getAttribLocation(prog11209, "aOfs");
	   var texture11209 = gl.createTexture();
	   var texLoc11209 = gl.getAttribLocation(prog11209, "aTexcoord");
	   var sampler11209 = gl.getUniformLocation(prog11209,"uSampler");
    	   handleLoadedTexture(texture11209, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    4.255414, -3.450309, -4.333719, 0, -0.5, 0.5, 0.5,
	    4.255414, -3.450309, -4.333719, 1, -0.5, 0.5, 0.5,
	    4.255414, -3.450309, -4.333719, 1, 1.5, 0.5, 0.5,
	    4.255414, -3.450309, -4.333719, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11209 = gl.getAttribLocation(prog11209, "aPos");
	   var colLoc11209 = gl.getAttribLocation(prog11209, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11209 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11209);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11209 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11209);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11209 = gl.getUniformLocation(prog11209,"mvMatrix");
	   var prMatLoc11209 = gl.getUniformLocation(prog11209,"prMatrix");


	   // ****** text object 11210 ******
	   var prog11210  = gl.createProgram();
	   gl.attachShader(prog11210, getShader( gl, "hclvshader11210" ));
	   gl.attachShader(prog11210, getShader( gl, "hclfshader11210" ));
	   gl.linkProgram(prog11210);
	   var texts = [
	    "C"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11210 = texinfo.canvasX;
	   var canvasY11210 = texinfo.canvasY;
	   var ofsLoc11210 = gl.getAttribLocation(prog11210, "aOfs");
	   var texture11210 = gl.createTexture();
	   var texLoc11210 = gl.getAttribLocation(prog11210, "aTexcoord");
	   var sampler11210 = gl.getUniformLocation(prog11210,"uSampler");
    	   handleLoadedTexture(texture11210, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    -2.112085, 8.202975, -4.333719, 0, -0.5, 0.5, 0.5,
	    -2.112085, 8.202975, -4.333719, 1, -0.5, 0.5, 0.5,
	    -2.112085, 8.202975, -4.333719, 1, 1.5, 0.5, 0.5,
	    -2.112085, 8.202975, -4.333719, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11210 = gl.getAttribLocation(prog11210, "aPos");
	   var colLoc11210 = gl.getAttribLocation(prog11210, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11210 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11210);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11210 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11210);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11210 = gl.getUniformLocation(prog11210,"mvMatrix");
	   var prMatLoc11210 = gl.getUniformLocation(prog11210,"prMatrix");


	   // ****** text object 11211 ******
	   var prog11211  = gl.createProgram();
	   gl.attachShader(prog11211, getShader( gl, "hclvshader11211" ));
	   gl.attachShader(prog11211, getShader( gl, "hclfshader11211" ));
	   gl.linkProgram(prog11211);
	   var texts = [
	    "H"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11211 = texinfo.canvasX;
	   var canvasY11211 = texinfo.canvasY;
	   var ofsLoc11211 = gl.getAttribLocation(prog11211, "aOfs");
	   var texture11211 = gl.createTexture();
	   var texLoc11211 = gl.getAttribLocation(prog11211, "aTexcoord");
	   var sampler11211 = gl.getUniformLocation(prog11211,"uSampler");
    	   handleLoadedTexture(texture11211, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    -2.112085, -3.450309, 10.8089, 0, -0.5, 0.5, 0.5,
	    -2.112085, -3.450309, 10.8089, 1, -0.5, 0.5, 0.5,
	    -2.112085, -3.450309, 10.8089, 1, 1.5, 0.5, 0.5,
	    -2.112085, -3.450309, 10.8089, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11211 = gl.getAttribLocation(prog11211, "aPos");
	   var colLoc11211 = gl.getAttribLocation(prog11211, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11211 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11211);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11211 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11211);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11211 = gl.getUniformLocation(prog11211,"mvMatrix");
	   var prMatLoc11211 = gl.getUniformLocation(prog11211,"prMatrix");


	   // ****** points object 11212 ******
	   var prog11212  = gl.createProgram();
	   gl.attachShader(prog11212, getShader( gl, "hclvshader11212" ));
	   gl.attachShader(prog11212, getShader( gl, "hclfshader11212" ));
	   gl.linkProgram(prog11212);
	   var v=new Float32Array([
	    6.128195, 4.896927, 10.33967
	   ]);
	   var posLoc11212 = gl.getAttribLocation(prog11212, "aPos");
	   var colLoc11212 = gl.getAttribLocation(prog11212, "aCol");
	   var buf11212 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11212);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11212 = gl.getUniformLocation(prog11212,"mvMatrix");
	   var prMatLoc11212 = gl.getUniformLocation(prog11212,"prMatrix");


	   // ****** points object 11213 ******
	   var prog11213  = gl.createProgram();
	   gl.attachShader(prog11213, getShader( gl, "hclvshader11213" ));
	   gl.attachShader(prog11213, getShader( gl, "hclfshader11213" ));
	   gl.linkProgram(prog11213);
	   var v=new Float32Array([
	    6.947478, 7.351521, 20.65977
	   ]);
	   var posLoc11213 = gl.getAttribLocation(prog11213, "aPos");
	   var colLoc11213 = gl.getAttribLocation(prog11213, "aCol");
	   var buf11213 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11213);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11213 = gl.getUniformLocation(prog11213,"mvMatrix");
	   var prMatLoc11213 = gl.getUniformLocation(prog11213,"prMatrix");


	   // ****** points object 11214 ******
	   var prog11214  = gl.createProgram();
	   gl.attachShader(prog11214, getShader( gl, "hclvshader11214" ));
	   gl.attachShader(prog11214, getShader( gl, "hclfshader11214" ));
	   gl.linkProgram(prog11214);
	   var v=new Float32Array([
	    4.454872, 5.397983, 13.16672
	   ]);
	   var posLoc11214 = gl.getAttribLocation(prog11214, "aPos");
	   var colLoc11214 = gl.getAttribLocation(prog11214, "aCol");
	   var buf11214 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11214);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11214 = gl.getUniformLocation(prog11214,"mvMatrix");
	   var prMatLoc11214 = gl.getUniformLocation(prog11214,"prMatrix");


	   // ****** points object 11215 ******
	   var prog11215  = gl.createProgram();
	   gl.attachShader(prog11215, getShader( gl, "hclvshader11215" ));
	   gl.attachShader(prog11215, getShader( gl, "hclfshader11215" ));
	   gl.linkProgram(prog11215);
	   var v=new Float32Array([
	    5.376578, 10.33808, 5.530147
	   ]);
	   var posLoc11215 = gl.getAttribLocation(prog11215, "aPos");
	   var colLoc11215 = gl.getAttribLocation(prog11215, "aCol");
	   var buf11215 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11215);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11215 = gl.getUniformLocation(prog11215,"mvMatrix");
	   var prMatLoc11215 = gl.getUniformLocation(prog11215,"prMatrix");


	   // ****** points object 11216 ******
	   var prog11216  = gl.createProgram();
	   gl.attachShader(prog11216, getShader( gl, "hclvshader11216" ));
	   gl.attachShader(prog11216, getShader( gl, "hclfshader11216" ));
	   gl.linkProgram(prog11216);
	   var v=new Float32Array([
	    5.607385, 5.208197, 21.11781
	   ]);
	   var posLoc11216 = gl.getAttribLocation(prog11216, "aPos");
	   var colLoc11216 = gl.getAttribLocation(prog11216, "aCol");
	   var buf11216 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11216);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11216 = gl.getUniformLocation(prog11216,"mvMatrix");
	   var prMatLoc11216 = gl.getUniformLocation(prog11216,"prMatrix");


	   // ****** points object 11217 ******
	   var prog11217  = gl.createProgram();
	   gl.attachShader(prog11217, getShader( gl, "hclvshader11217" ));
	   gl.attachShader(prog11217, getShader( gl, "hclfshader11217" ));
	   gl.linkProgram(prog11217);
	   var v=new Float32Array([
	    5.460909, 5.818421, 9.307762
	   ]);
	   var posLoc11217 = gl.getAttribLocation(prog11217, "aPos");
	   var colLoc11217 = gl.getAttribLocation(prog11217, "aCol");
	   var buf11217 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11217);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11217 = gl.getUniformLocation(prog11217,"mvMatrix");
	   var prMatLoc11217 = gl.getUniformLocation(prog11217,"prMatrix");


	   // ****** points object 11218 ******
	   var prog11218  = gl.createProgram();
	   gl.attachShader(prog11218, getShader( gl, "hclvshader11218" ));
	   gl.attachShader(prog11218, getShader( gl, "hclfshader11218" ));
	   gl.linkProgram(prog11218);
	   var v=new Float32Array([
	    7.004903, 6.124938, 11.56304
	   ]);
	   var posLoc11218 = gl.getAttribLocation(prog11218, "aPos");
	   var colLoc11218 = gl.getAttribLocation(prog11218, "aCol");
	   var buf11218 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11218);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11218 = gl.getUniformLocation(prog11218,"mvMatrix");
	   var prMatLoc11218 = gl.getUniformLocation(prog11218,"prMatrix");


	   // ****** points object 11219 ******
	   var prog11219  = gl.createProgram();
	   gl.attachShader(prog11219, getShader( gl, "hclvshader11219" ));
	   gl.attachShader(prog11219, getShader( gl, "hclfshader11219" ));
	   gl.linkProgram(prog11219);
	   var v=new Float32Array([
	    6.887035, 9.414032, 11.79667
	   ]);
	   var posLoc11219 = gl.getAttribLocation(prog11219, "aPos");
	   var colLoc11219 = gl.getAttribLocation(prog11219, "aCol");
	   var buf11219 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11219);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11219 = gl.getUniformLocation(prog11219,"mvMatrix");
	   var prMatLoc11219 = gl.getUniformLocation(prog11219,"prMatrix");


	   // ****** points object 11220 ******
	   var prog11220  = gl.createProgram();
	   gl.attachShader(prog11220, getShader( gl, "hclvshader11220" ));
	   gl.attachShader(prog11220, getShader( gl, "hclfshader11220" ));
	   gl.linkProgram(prog11220);
	   var v=new Float32Array([
	    7.432681, 9.377833, 9.478605
	   ]);
	   var posLoc11220 = gl.getAttribLocation(prog11220, "aPos");
	   var colLoc11220 = gl.getAttribLocation(prog11220, "aCol");
	   var buf11220 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11220);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11220 = gl.getUniformLocation(prog11220,"mvMatrix");
	   var prMatLoc11220 = gl.getUniformLocation(prog11220,"prMatrix");


	   // ****** points object 11221 ******
	   var prog11221  = gl.createProgram();
	   gl.attachShader(prog11221, getShader( gl, "hclvshader11221" ));
	   gl.attachShader(prog11221, getShader( gl, "hclfshader11221" ));
	   gl.linkProgram(prog11221);
	   var v=new Float32Array([
	    6.809234, 11.14467, 7.089738
	   ]);
	   var posLoc11221 = gl.getAttribLocation(prog11221, "aPos");
	   var colLoc11221 = gl.getAttribLocation(prog11221, "aCol");
	   var buf11221 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11221);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11221 = gl.getUniformLocation(prog11221,"mvMatrix");
	   var prMatLoc11221 = gl.getUniformLocation(prog11221,"prMatrix");


	   // ****** points object 11222 ******
	   var prog11222  = gl.createProgram();
	   gl.attachShader(prog11222, getShader( gl, "hclvshader11222" ));
	   gl.attachShader(prog11222, getShader( gl, "hclfshader11222" ));
	   gl.linkProgram(prog11222);
	   var v=new Float32Array([
	    6.35815, 13.06068, 9.885702
	   ]);
	   var posLoc11222 = gl.getAttribLocation(prog11222, "aPos");
	   var colLoc11222 = gl.getAttribLocation(prog11222, "aCol");
	   var buf11222 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11222);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11222 = gl.getUniformLocation(prog11222,"mvMatrix");
	   var prMatLoc11222 = gl.getUniformLocation(prog11222,"prMatrix");


	   // ****** points object 11223 ******
	   var prog11223  = gl.createProgram();
	   gl.attachShader(prog11223, getShader( gl, "hclvshader11223" ));
	   gl.attachShader(prog11223, getShader( gl, "hclfshader11223" ));
	   gl.linkProgram(prog11223);
	   var v=new Float32Array([
	    6.940102, 11.38439, 5.353341
	   ]);
	   var posLoc11223 = gl.getAttribLocation(prog11223, "aPos");
	   var colLoc11223 = gl.getAttribLocation(prog11223, "aCol");
	   var buf11223 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11223);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11223 = gl.getUniformLocation(prog11223,"mvMatrix");
	   var prMatLoc11223 = gl.getUniformLocation(prog11223,"prMatrix");


	   // ****** points object 11224 ******
	   var prog11224  = gl.createProgram();
	   gl.attachShader(prog11224, getShader( gl, "hclvshader11224" ));
	   gl.attachShader(prog11224, getShader( gl, "hclfshader11224" ));
	   gl.linkProgram(prog11224);
	   var v=new Float32Array([
	    6.337429, 8.291922, 0.916787
	   ]);
	   var posLoc11224 = gl.getAttribLocation(prog11224, "aPos");
	   var colLoc11224 = gl.getAttribLocation(prog11224, "aCol");
	   var buf11224 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11224);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11224 = gl.getUniformLocation(prog11224,"mvMatrix");
	   var prMatLoc11224 = gl.getUniformLocation(prog11224,"prMatrix");


	   // ****** points object 11225 ******
	   var prog11225  = gl.createProgram();
	   gl.attachShader(prog11225, getShader( gl, "hclvshader11225" ));
	   gl.attachShader(prog11225, getShader( gl, "hclfshader11225" ));
	   gl.linkProgram(prog11225);
	   var v=new Float32Array([
	    6.318643, 8.669707, 2.291165
	   ]);
	   var posLoc11225 = gl.getAttribLocation(prog11225, "aPos");
	   var colLoc11225 = gl.getAttribLocation(prog11225, "aCol");
	   var buf11225 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11225);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11225 = gl.getUniformLocation(prog11225,"mvMatrix");
	   var prMatLoc11225 = gl.getUniformLocation(prog11225,"prMatrix");


	   // ****** points object 11226 ******
	   var prog11226  = gl.createProgram();
	   gl.attachShader(prog11226, getShader( gl, "hclvshader11226" ));
	   gl.attachShader(prog11226, getShader( gl, "hclfshader11226" ));
	   gl.linkProgram(prog11226);
	   var v=new Float32Array([
	    5.733047, 9.246908, 3.134071
	   ]);
	   var posLoc11226 = gl.getAttribLocation(prog11226, "aPos");
	   var colLoc11226 = gl.getAttribLocation(prog11226, "aCol");
	   var buf11226 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11226);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11226 = gl.getUniformLocation(prog11226,"mvMatrix");
	   var prMatLoc11226 = gl.getUniformLocation(prog11226,"prMatrix");


	   // ****** points object 11227 ******
	   var prog11227  = gl.createProgram();
	   gl.attachShader(prog11227, getShader( gl, "hclvshader11227" ));
	   gl.attachShader(prog11227, getShader( gl, "hclfshader11227" ));
	   gl.linkProgram(prog11227);
	   var v=new Float32Array([
	    6.145917, 13.06739, 2.730398
	   ]);
	   var posLoc11227 = gl.getAttribLocation(prog11227, "aPos");
	   var colLoc11227 = gl.getAttribLocation(prog11227, "aCol");
	   var buf11227 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11227);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11227 = gl.getUniformLocation(prog11227,"mvMatrix");
	   var prMatLoc11227 = gl.getUniformLocation(prog11227,"prMatrix");


	   // ****** points object 11228 ******
	   var prog11228  = gl.createProgram();
	   gl.attachShader(prog11228, getShader( gl, "hclvshader11228" ));
	   gl.attachShader(prog11228, getShader( gl, "hclfshader11228" ));
	   gl.linkProgram(prog11228);
	   var v=new Float32Array([
	    6.623371, 15.90595, 4.73332
	   ]);
	   var posLoc11228 = gl.getAttribLocation(prog11228, "aPos");
	   var colLoc11228 = gl.getAttribLocation(prog11228, "aCol");
	   var buf11228 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11228);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11228 = gl.getUniformLocation(prog11228,"mvMatrix");
	   var prMatLoc11228 = gl.getUniformLocation(prog11228,"prMatrix");


	   // ****** points object 11229 ******
	   var prog11229  = gl.createProgram();
	   gl.attachShader(prog11229, getShader( gl, "hclvshader11229" ));
	   gl.attachShader(prog11229, getShader( gl, "hclfshader11229" ));
	   gl.linkProgram(prog11229);
	   var v=new Float32Array([
	    8.010827, 0.0006157823, 3.846878e-11
	   ]);
	   var posLoc11229 = gl.getAttribLocation(prog11229, "aPos");
	   var colLoc11229 = gl.getAttribLocation(prog11229, "aCol");
	   var buf11229 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11229);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11229 = gl.getUniformLocation(prog11229,"mvMatrix");
	   var prMatLoc11229 = gl.getUniformLocation(prog11229,"prMatrix");


	   // ****** lines object 11230 ******
	   var prog11230  = gl.createProgram();
	   gl.attachShader(prog11230, getShader( gl, "hclvshader11230" ));
	   gl.attachShader(prog11230, getShader( gl, "hclfshader11230" ));
	   gl.linkProgram(prog11230);
	   var v=new Float32Array([
	    0, -0.7610893, -0.8392671,
	    8, -0.7610893, -0.8392671,
	    0, -0.7610893, -0.8392671,
	    0, -1.209293, -1.421676,
	    2, -0.7610893, -0.8392671,
	    2, -1.209293, -1.421676,
	    4, -0.7610893, -0.8392671,
	    4, -1.209293, -1.421676,
	    6, -0.7610893, -0.8392671,
	    6, -1.209293, -1.421676,
	    8, -0.7610893, -0.8392671,
	    8, -1.209293, -1.421676
	   ]);
	   var posLoc11230 = gl.getAttribLocation(prog11230, "aPos");
	   var colLoc11230 = gl.getAttribLocation(prog11230, "aCol");
	   var buf11230 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11230);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11230 = gl.getUniformLocation(prog11230,"mvMatrix");
	   var prMatLoc11230 = gl.getUniformLocation(prog11230,"prMatrix");


	   // ****** text object 11231 ******
	   var prog11231  = gl.createProgram();
	   gl.attachShader(prog11231, getShader( gl, "hclvshader11231" ));
	   gl.attachShader(prog11231, getShader( gl, "hclfshader11231" ));
	   gl.linkProgram(prog11231);
	   var texts = [
	    "0",
	    "2",
	    "4",
	    "6",
	    "8"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11231 = texinfo.canvasX;
	   var canvasY11231 = texinfo.canvasY;
	   var ofsLoc11231 = gl.getAttribLocation(prog11231, "aOfs");
	   var texture11231 = gl.createTexture();
	   var texLoc11231 = gl.getAttribLocation(prog11231, "aTexcoord");
	   var sampler11231 = gl.getUniformLocation(prog11231,"uSampler");
    	   handleLoadedTexture(texture11231, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    0, -2.105699, -2.586493, 0, -0.5, 0.5, 0.5,
	    0, -2.105699, -2.586493, 1, -0.5, 0.5, 0.5,
	    0, -2.105699, -2.586493, 1, 1.5, 0.5, 0.5,
	    0, -2.105699, -2.586493, 0, 1.5, 0.5, 0.5,
	    2, -2.105699, -2.586493, 0, -0.5, 0.5, 0.5,
	    2, -2.105699, -2.586493, 1, -0.5, 0.5, 0.5,
	    2, -2.105699, -2.586493, 1, 1.5, 0.5, 0.5,
	    2, -2.105699, -2.586493, 0, 1.5, 0.5, 0.5,
	    4, -2.105699, -2.586493, 0, -0.5, 0.5, 0.5,
	    4, -2.105699, -2.586493, 1, -0.5, 0.5, 0.5,
	    4, -2.105699, -2.586493, 1, 1.5, 0.5, 0.5,
	    4, -2.105699, -2.586493, 0, 1.5, 0.5, 0.5,
	    6, -2.105699, -2.586493, 0, -0.5, 0.5, 0.5,
	    6, -2.105699, -2.586493, 1, -0.5, 0.5, 0.5,
	    6, -2.105699, -2.586493, 1, 1.5, 0.5, 0.5,
	    6, -2.105699, -2.586493, 0, 1.5, 0.5, 0.5,
	    8, -2.105699, -2.586493, 0, -0.5, 0.5, 0.5,
	    8, -2.105699, -2.586493, 1, -0.5, 0.5, 0.5,
	    8, -2.105699, -2.586493, 1, 1.5, 0.5, 0.5,
	    8, -2.105699, -2.586493, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<5; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11231 = gl.getAttribLocation(prog11231, "aPos");
	   var colLoc11231 = gl.getAttribLocation(prog11231, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15,
	    16, 17, 18, 16, 18, 19
	   ]);
	   var buf11231 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11231);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11231 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11231);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11231 = gl.getUniformLocation(prog11231,"mvMatrix");
	   var prMatLoc11231 = gl.getUniformLocation(prog11231,"prMatrix");


	   // ****** lines object 11232 ******
	   var prog11232  = gl.createProgram();
	   gl.attachShader(prog11232, getShader( gl, "hclvshader11232" ));
	   gl.attachShader(prog11232, getShader( gl, "hclfshader11232" ));
	   gl.linkProgram(prog11232);
	   var v=new Float32Array([
	    -0.6426624, 0, -0.8392671,
	    -0.6426624, 15, -0.8392671,
	    -0.6426624, 0, -0.8392671,
	    -0.8875662, 0, -1.421676,
	    -0.6426624, 5, -0.8392671,
	    -0.8875662, 5, -1.421676,
	    -0.6426624, 10, -0.8392671,
	    -0.8875662, 10, -1.421676,
	    -0.6426624, 15, -0.8392671,
	    -0.8875662, 15, -1.421676
	   ]);
	   var posLoc11232 = gl.getAttribLocation(prog11232, "aPos");
	   var colLoc11232 = gl.getAttribLocation(prog11232, "aCol");
	   var buf11232 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11232);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11232 = gl.getUniformLocation(prog11232,"mvMatrix");
	   var prMatLoc11232 = gl.getUniformLocation(prog11232,"prMatrix");


	   // ****** text object 11233 ******
	   var prog11233  = gl.createProgram();
	   gl.attachShader(prog11233, getShader( gl, "hclvshader11233" ));
	   gl.attachShader(prog11233, getShader( gl, "hclfshader11233" ));
	   gl.linkProgram(prog11233);
	   var texts = [
	    "0",
	    "5",
	    "10",
	    "15"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11233 = texinfo.canvasX;
	   var canvasY11233 = texinfo.canvasY;
	   var ofsLoc11233 = gl.getAttribLocation(prog11233, "aOfs");
	   var texture11233 = gl.createTexture();
	   var texLoc11233 = gl.getAttribLocation(prog11233, "aTexcoord");
	   var sampler11233 = gl.getUniformLocation(prog11233,"uSampler");
    	   handleLoadedTexture(texture11233, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    -1.377374, 0, -2.586493, 0, -0.5, 0.5, 0.5,
	    -1.377374, 0, -2.586493, 1, -0.5, 0.5, 0.5,
	    -1.377374, 0, -2.586493, 1, 1.5, 0.5, 0.5,
	    -1.377374, 0, -2.586493, 0, 1.5, 0.5, 0.5,
	    -1.377374, 5, -2.586493, 0, -0.5, 0.5, 0.5,
	    -1.377374, 5, -2.586493, 1, -0.5, 0.5, 0.5,
	    -1.377374, 5, -2.586493, 1, 1.5, 0.5, 0.5,
	    -1.377374, 5, -2.586493, 0, 1.5, 0.5, 0.5,
	    -1.377374, 10, -2.586493, 0, -0.5, 0.5, 0.5,
	    -1.377374, 10, -2.586493, 1, -0.5, 0.5, 0.5,
	    -1.377374, 10, -2.586493, 1, 1.5, 0.5, 0.5,
	    -1.377374, 10, -2.586493, 0, 1.5, 0.5, 0.5,
	    -1.377374, 15, -2.586493, 0, -0.5, 0.5, 0.5,
	    -1.377374, 15, -2.586493, 1, -0.5, 0.5, 0.5,
	    -1.377374, 15, -2.586493, 1, 1.5, 0.5, 0.5,
	    -1.377374, 15, -2.586493, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11233 = gl.getAttribLocation(prog11233, "aPos");
	   var colLoc11233 = gl.getAttribLocation(prog11233, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11233 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11233);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11233 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11233);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11233 = gl.getUniformLocation(prog11233,"mvMatrix");
	   var prMatLoc11233 = gl.getUniformLocation(prog11233,"prMatrix");


	   // ****** lines object 11234 ******
	   var prog11234  = gl.createProgram();
	   gl.attachShader(prog11234, getShader( gl, "hclvshader11234" ));
	   gl.attachShader(prog11234, getShader( gl, "hclfshader11234" ));
	   gl.linkProgram(prog11234);
	   var v=new Float32Array([
	    -0.6426624, -0.7610893, 0,
	    -0.6426624, -0.7610893, 20,
	    -0.6426624, -0.7610893, 0,
	    -0.8875662, -1.209293, 0,
	    -0.6426624, -0.7610893, 5,
	    -0.8875662, -1.209293, 5,
	    -0.6426624, -0.7610893, 10,
	    -0.8875662, -1.209293, 10,
	    -0.6426624, -0.7610893, 15,
	    -0.8875662, -1.209293, 15,
	    -0.6426624, -0.7610893, 20,
	    -0.8875662, -1.209293, 20
	   ]);
	   var posLoc11234 = gl.getAttribLocation(prog11234, "aPos");
	   var colLoc11234 = gl.getAttribLocation(prog11234, "aCol");
	   var buf11234 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11234);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11234 = gl.getUniformLocation(prog11234,"mvMatrix");
	   var prMatLoc11234 = gl.getUniformLocation(prog11234,"prMatrix");


	   // ****** text object 11235 ******
	   var prog11235  = gl.createProgram();
	   gl.attachShader(prog11235, getShader( gl, "hclvshader11235" ));
	   gl.attachShader(prog11235, getShader( gl, "hclfshader11235" ));
	   gl.linkProgram(prog11235);
	   var texts = [
	    "0",
	    "5",
	    "10",
	    "15",
	    "20"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11235 = texinfo.canvasX;
	   var canvasY11235 = texinfo.canvasY;
	   var ofsLoc11235 = gl.getAttribLocation(prog11235, "aOfs");
	   var texture11235 = gl.createTexture();
	   var texLoc11235 = gl.getAttribLocation(prog11235, "aTexcoord");
	   var sampler11235 = gl.getUniformLocation(prog11235,"uSampler");
    	   handleLoadedTexture(texture11235, document.getElementById("hcltextureCanvas"));
	   var v=new Float32Array([
	    -1.377374, -2.105699, 0, 0, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 0, 1, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 0, 1, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 0, 0, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 5, 0, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 5, 1, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 5, 1, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 5, 0, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 10, 0, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 10, 1, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 10, 1, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 10, 0, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 15, 0, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 15, 1, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 15, 1, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 15, 0, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 20, 0, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 20, 1, -0.5, 0.5, 0.5,
	    -1.377374, -2.105699, 20, 1, 1.5, 0.5, 0.5,
	    -1.377374, -2.105699, 20, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<5; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11235 = gl.getAttribLocation(prog11235, "aPos");
	   var colLoc11235 = gl.getAttribLocation(prog11235, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15,
	    16, 17, 18, 16, 18, 19
	   ]);
	   var buf11235 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11235);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11235 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11235);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11235 = gl.getUniformLocation(prog11235,"mvMatrix");
	   var prMatLoc11235 = gl.getUniformLocation(prog11235,"prMatrix");


	   // ****** lines object 11236 ******
	   var prog11236  = gl.createProgram();
	   gl.attachShader(prog11236, getShader( gl, "hclvshader11236" ));
	   gl.attachShader(prog11236, getShader( gl, "hclfshader11236" ));
	   gl.linkProgram(prog11236);
	   var v=new Float32Array([
	    -0.6426624, -0.7610893, -0.8392671,
	    -0.6426624, 17.16704, -0.8392671,
	    -0.6426624, -0.7610893, 22.45708,
	    -0.6426624, 17.16704, 22.45708,
	    -0.6426624, -0.7610893, -0.8392671,
	    -0.6426624, -0.7610893, 22.45708,
	    -0.6426624, 17.16704, -0.8392671,
	    -0.6426624, 17.16704, 22.45708,
	    -0.6426624, -0.7610893, -0.8392671,
	    9.153489, -0.7610893, -0.8392671,
	    -0.6426624, -0.7610893, 22.45708,
	    9.153489, -0.7610893, 22.45708,
	    -0.6426624, 17.16704, -0.8392671,
	    9.153489, 17.16704, -0.8392671,
	    -0.6426624, 17.16704, 22.45708,
	    9.153489, 17.16704, 22.45708,
	    9.153489, -0.7610893, -0.8392671,
	    9.153489, 17.16704, -0.8392671,
	    9.153489, -0.7610893, 22.45708,
	    9.153489, 17.16704, 22.45708,
	    9.153489, -0.7610893, -0.8392671,
	    9.153489, -0.7610893, 22.45708,
	    9.153489, 17.16704, -0.8392671,
	    9.153489, 17.16704, 22.45708
	   ]);
	   var posLoc11236 = gl.getAttribLocation(prog11236, "aPos");
	   var colLoc11236 = gl.getAttribLocation(prog11236, "aCol");
	   var buf11236 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11236);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11236 = gl.getUniformLocation(prog11236,"mvMatrix");
	   var prMatLoc11236 = gl.getUniformLocation(prog11236,"prMatrix");

	   gl.enable(gl.DEPTH_TEST);
	   gl.depthFunc(gl.LEQUAL);
	   gl.clearDepth(1.0);
	   gl.clearColor(1, 1, 1, 1);
	   var xOffs = yOffs = 0,  drag  = 0;
	   drawScene();

	   function drawScene(){
	     gl.depthMask(true);
	     gl.disable(gl.BLEND);
	     var radius = 16.54566;
	     var s = sin(fov*PI/360);
	     var t = tan(fov*PI/360);
	     var distance = radius/s;
	     var near = distance - radius;
	     var far = distance + radius;
	     var hlen = t*near;
	     var aspect = width/height;
	     prMatrix.makeIdentity();
	     if (aspect > 1)
	       prMatrix.frustum(-hlen*aspect*zoom, hlen*aspect*zoom, 
	                        -hlen*zoom, hlen*zoom, near, far);
	     else  
	       prMatrix.frustum(-hlen*zoom, hlen*zoom, 
	                        -hlen*zoom/aspect, hlen*zoom/aspect, 
	                        near, far);
	     mvMatrix.makeIdentity();
	     mvMatrix.translate( -4.255414, -8.202975, -10.8089 );
	     mvMatrix.scale( 1.826176, 0.9978451, 0.7679099 );   
	     mvMatrix.multRight( userMatrix );  
	     mvMatrix.translate(0, 0, -distance);
	     gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);


	     // ****** lines object 11206 *******
	     gl.useProgram(prog11206);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11206);
	     gl.uniformMatrix4fv( prMatLoc11206, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11206, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11206 );
	     gl.disableVertexAttribArray( colLoc11206 );
	     gl.vertexAttrib4f( colLoc11206, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11206,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 4);

	     // ****** lines object 11207 *******
	     gl.useProgram(prog11207);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11207);
	     gl.uniformMatrix4fv( prMatLoc11207, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11207, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11207 );
	     gl.disableVertexAttribArray( colLoc11207 );
	     gl.vertexAttrib4f( colLoc11207, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11207,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 4);

	     // ****** text object 11209 *******
	     gl.useProgram(prog11209);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11209);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11209);
	     gl.uniformMatrix4fv( prMatLoc11209, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11209, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11209 );
	     gl.disableVertexAttribArray( colLoc11209 );
	     gl.vertexAttrib4f( colLoc11209, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11209 );
	     gl.vertexAttribPointer(texLoc11209, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11209);
	     gl.uniform1i( sampler11209, 0);
	     gl.enableVertexAttribArray( ofsLoc11209 );
	     gl.vertexAttribPointer(ofsLoc11209, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11209,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11210 *******
	     gl.useProgram(prog11210);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11210);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11210);
	     gl.uniformMatrix4fv( prMatLoc11210, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11210, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11210 );
	     gl.disableVertexAttribArray( colLoc11210 );
	     gl.vertexAttrib4f( colLoc11210, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11210 );
	     gl.vertexAttribPointer(texLoc11210, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11210);
	     gl.uniform1i( sampler11210, 0);
	     gl.enableVertexAttribArray( ofsLoc11210 );
	     gl.vertexAttribPointer(ofsLoc11210, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11210,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11211 *******
	     gl.useProgram(prog11211);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11211);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11211);
	     gl.uniformMatrix4fv( prMatLoc11211, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11211, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11211 );
	     gl.disableVertexAttribArray( colLoc11211 );
	     gl.vertexAttrib4f( colLoc11211, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11211 );
	     gl.vertexAttribPointer(texLoc11211, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11211);
	     gl.uniform1i( sampler11211, 0);
	     gl.enableVertexAttribArray( ofsLoc11211 );
	     gl.vertexAttribPointer(ofsLoc11211, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11211,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** points object 11212 *******
	     gl.useProgram(prog11212);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11212);
	     gl.uniformMatrix4fv( prMatLoc11212, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11212, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11212 );
	     gl.disableVertexAttribArray( colLoc11212 );
	     gl.vertexAttrib4f( colLoc11212, 0.9098039, 0.5647059, 0.2, 1 );
	     gl.vertexAttribPointer(posLoc11212,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11213 *******
	     gl.useProgram(prog11213);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11213);
	     gl.uniformMatrix4fv( prMatLoc11213, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11213, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11213 );
	     gl.disableVertexAttribArray( colLoc11213 );
	     gl.vertexAttrib4f( colLoc11213, 0.9176471, 0.6588235, 0.1568628, 1 );
	     gl.vertexAttribPointer(posLoc11213,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11214 *******
	     gl.useProgram(prog11214);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11214);
	     gl.uniformMatrix4fv( prMatLoc11214, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11214, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11214 );
	     gl.disableVertexAttribArray( colLoc11214 );
	     gl.vertexAttrib4f( colLoc11214, 0.9058824, 0.5333334, 0.2235294, 1 );
	     gl.vertexAttribPointer(posLoc11214,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11215 *******
	     gl.useProgram(prog11215);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11215);
	     gl.uniformMatrix4fv( prMatLoc11215, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11215, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11215 );
	     gl.disableVertexAttribArray( colLoc11215 );
	     gl.vertexAttrib4f( colLoc11215, 0.8862745, 0.4509804, 0.2901961, 1 );
	     gl.vertexAttribPointer(posLoc11215,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11216 *******
	     gl.useProgram(prog11216);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11216);
	     gl.uniformMatrix4fv( prMatLoc11216, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11216, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11216 );
	     gl.disableVertexAttribArray( colLoc11216 );
	     gl.vertexAttrib4f( colLoc11216, 0.9137255, 0.6392157, 0.1568628, 1 );
	     gl.vertexAttribPointer(posLoc11216,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11217 *******
	     gl.useProgram(prog11217);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11217);
	     gl.uniformMatrix4fv( prMatLoc11217, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11217, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11217 );
	     gl.disableVertexAttribArray( colLoc11217 );
	     gl.vertexAttrib4f( colLoc11217, 0.8980392, 0.4941176, 0.254902, 1 );
	     gl.vertexAttribPointer(posLoc11217,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11218 *******
	     gl.useProgram(prog11218);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11218);
	     gl.uniformMatrix4fv( prMatLoc11218, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11218, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11218 );
	     gl.disableVertexAttribArray( colLoc11218 );
	     gl.vertexAttrib4f( colLoc11218, 0.9137255, 0.6196079, 0.1647059, 1 );
	     gl.vertexAttribPointer(posLoc11218,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11219 *******
	     gl.useProgram(prog11219);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11219);
	     gl.uniformMatrix4fv( prMatLoc11219, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11219, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11219 );
	     gl.disableVertexAttribArray( colLoc11219 );
	     gl.vertexAttrib4f( colLoc11219, 0.9137255, 0.6392157, 0.1568628, 1 );
	     gl.vertexAttribPointer(posLoc11219,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11220 *******
	     gl.useProgram(prog11220);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11220);
	     gl.uniformMatrix4fv( prMatLoc11220, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11220, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11220 );
	     gl.disableVertexAttribArray( colLoc11220 );
	     gl.vertexAttrib4f( colLoc11220, 0.9137255, 0.7529412, 0.2196078, 1 );
	     gl.vertexAttribPointer(posLoc11220,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11221 *******
	     gl.useProgram(prog11221);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11221);
	     gl.uniformMatrix4fv( prMatLoc11221, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11221, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11221 );
	     gl.disableVertexAttribArray( colLoc11221 );
	     gl.vertexAttrib4f( colLoc11221, 0.9137255, 0.7529412, 0.2196078, 1 );
	     gl.vertexAttribPointer(posLoc11221,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11222 *******
	     gl.useProgram(prog11222);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11222);
	     gl.uniformMatrix4fv( prMatLoc11222, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11222, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11222 );
	     gl.disableVertexAttribArray( colLoc11222 );
	     gl.vertexAttrib4f( colLoc11222, 0.8862745, 0.9019608, 0.7411765, 1 );
	     gl.vertexAttribPointer(posLoc11222,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11223 *******
	     gl.useProgram(prog11223);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11223);
	     gl.uniformMatrix4fv( prMatLoc11223, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11223, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11223 );
	     gl.disableVertexAttribArray( colLoc11223 );
	     gl.vertexAttrib4f( colLoc11223, 0.8980392, 0.8470588, 0.3686275, 1 );
	     gl.vertexAttribPointer(posLoc11223,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11224 *******
	     gl.useProgram(prog11224);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11224);
	     gl.uniformMatrix4fv( prMatLoc11224, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11224, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11224 );
	     gl.disableVertexAttribArray( colLoc11224 );
	     gl.vertexAttrib4f( colLoc11224, 0.854902, 0.345098, 0.3647059, 1 );
	     gl.vertexAttribPointer(posLoc11224,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11225 *******
	     gl.useProgram(prog11225);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11225);
	     gl.uniformMatrix4fv( prMatLoc11225, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11225, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11225 );
	     gl.disableVertexAttribArray( colLoc11225 );
	     gl.vertexAttrib4f( colLoc11225, 0.827451, 0.2470588, 0.4156863, 1 );
	     gl.vertexAttribPointer(posLoc11225,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11226 *******
	     gl.useProgram(prog11226);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11226);
	     gl.uniformMatrix4fv( prMatLoc11226, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11226, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11226 );
	     gl.disableVertexAttribArray( colLoc11226 );
	     gl.vertexAttrib4f( colLoc11226, 0.9058824, 0.5333334, 0.2235294, 1 );
	     gl.vertexAttribPointer(posLoc11226,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11227 *******
	     gl.useProgram(prog11227);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11227);
	     gl.uniformMatrix4fv( prMatLoc11227, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11227, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11227 );
	     gl.disableVertexAttribArray( colLoc11227 );
	     gl.vertexAttrib4f( colLoc11227, 0.9137255, 0.7333333, 0.1960784, 1 );
	     gl.vertexAttribPointer(posLoc11227,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11228 *******
	     gl.useProgram(prog11228);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11228);
	     gl.uniformMatrix4fv( prMatLoc11228, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11228, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11228 );
	     gl.disableVertexAttribArray( colLoc11228 );
	     gl.vertexAttrib4f( colLoc11228, 0.9058824, 0.8078431, 0.3019608, 1 );
	     gl.vertexAttribPointer(posLoc11228,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** points object 11229 *******
	     gl.useProgram(prog11229);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11229);
	     gl.uniformMatrix4fv( prMatLoc11229, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11229, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11229 );
	     gl.disableVertexAttribArray( colLoc11229 );
	     gl.vertexAttrib4f( colLoc11229, 0.9137255, 0.6196079, 0.1647059, 1 );
	     gl.vertexAttribPointer(posLoc11229,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.POINTS, 0, 1);

	     // ****** lines object 11230 *******
	     gl.useProgram(prog11230);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11230);
	     gl.uniformMatrix4fv( prMatLoc11230, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11230, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11230 );
	     gl.disableVertexAttribArray( colLoc11230 );
	     gl.vertexAttrib4f( colLoc11230, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11230,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 12);

	     // ****** text object 11231 *******
	     gl.useProgram(prog11231);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11231);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11231);
	     gl.uniformMatrix4fv( prMatLoc11231, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11231, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11231 );
	     gl.disableVertexAttribArray( colLoc11231 );
	     gl.vertexAttrib4f( colLoc11231, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11231 );
	     gl.vertexAttribPointer(texLoc11231, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11231);
	     gl.uniform1i( sampler11231, 0);
	     gl.enableVertexAttribArray( ofsLoc11231 );
	     gl.vertexAttribPointer(ofsLoc11231, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11231,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 30, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11232 *******
	     gl.useProgram(prog11232);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11232);
	     gl.uniformMatrix4fv( prMatLoc11232, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11232, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11232 );
	     gl.disableVertexAttribArray( colLoc11232 );
	     gl.vertexAttrib4f( colLoc11232, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11232,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11233 *******
	     gl.useProgram(prog11233);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11233);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11233);
	     gl.uniformMatrix4fv( prMatLoc11233, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11233, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11233 );
	     gl.disableVertexAttribArray( colLoc11233 );
	     gl.vertexAttrib4f( colLoc11233, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11233 );
	     gl.vertexAttribPointer(texLoc11233, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11233);
	     gl.uniform1i( sampler11233, 0);
	     gl.enableVertexAttribArray( ofsLoc11233 );
	     gl.vertexAttribPointer(ofsLoc11233, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11233,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11234 *******
	     gl.useProgram(prog11234);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11234);
	     gl.uniformMatrix4fv( prMatLoc11234, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11234, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11234 );
	     gl.disableVertexAttribArray( colLoc11234 );
	     gl.vertexAttrib4f( colLoc11234, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11234,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 12);

	     // ****** text object 11235 *******
	     gl.useProgram(prog11235);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11235);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11235);
	     gl.uniformMatrix4fv( prMatLoc11235, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11235, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11235 );
	     gl.disableVertexAttribArray( colLoc11235 );
	     gl.vertexAttrib4f( colLoc11235, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11235 );
	     gl.vertexAttribPointer(texLoc11235, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11235);
	     gl.uniform1i( sampler11235, 0);
	     gl.enableVertexAttribArray( ofsLoc11235 );
	     gl.vertexAttribPointer(ofsLoc11235, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11235,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 30, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11236 *******
	     gl.useProgram(prog11236);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11236);
	     gl.uniformMatrix4fv( prMatLoc11236, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11236, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11236 );
	     gl.disableVertexAttribArray( colLoc11236 );
	     gl.vertexAttrib4f( colLoc11236, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11236,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 24);

	     gl.flush ();
	   }

	   var vlen = function(v) {
	     return sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2])
	   }
	   
	   var xprod = function(a, b) {
	     return [a[1]*b[2] - a[2]*b[1],
	             a[2]*b[0] - a[0]*b[2],
	             a[0]*b[1] - a[1]*b[0]];
	   }

	   var screenToVector = function(x, y) {
	     var radius = max(width, height)/2.0;
	     var cx = width/2.0;
	     var cy = height/2.0;
	     var px = (x-cx)/radius;
	     var py = (y-cy)/radius;
	     var plen = sqrt(px*px+py*py);
	     if (plen > 1.e-6) { 
	       px = px/plen;
	       py = py/plen;
	     }

	     var angle = (SQRT2 - plen)/SQRT2*PI/2;
	     var z = sin(angle);
	     var zlen = sqrt(1.0 - z*z);
	     px = px * zlen;
	     py = py * zlen;
	     return [px, py, z];
	   }

	   var rotBase;

	   var trackballdown = function(x,y) {
	     rotBase = screenToVector(x, y);
	     saveMat.load(userMatrix);
	   }
	   
	   var trackballmove = function(x,y) {
	     var rotCurrent = screenToVector(x,y);
	     var dot = rotBase[0]*rotCurrent[0] + 
	   	       rotBase[1]*rotCurrent[1] + 
	   	       rotBase[2]*rotCurrent[2];
	     var angle = acos( dot/vlen(rotBase)/vlen(rotCurrent) )*180./PI;
	     var axis = xprod(rotBase, rotCurrent);
	     userMatrix.load(saveMat);
	     userMatrix.rotate(angle, axis[0], axis[1], axis[2]);
	     drawScene();
	   }

	   var y0zoom = 0;
	   var zoom0 = 1;
	   var zoomdown = function(x, y) {
	     y0zoom = y;
	     zoom0 = log(zoom);
	   }

	   var zoommove = function(x, y) {
	     zoom = exp(zoom0 + (y-y0zoom)/height);
	     drawScene();
	   }

	   var y0fov = 0;
	   var fov0 = 1;
	   var fovdown = function(x, y) {
	     y0fov = y;
	     fov0 = fov;
	   }

	   var fovmove = function(x, y) {
	     fov = max(1, min(179, fov0 + 180*(y-y0fov)/height));
	     drawScene();
	   }

	   var mousedown = [trackballdown, zoomdown, fovdown];
	   var mousemove = [trackballmove, zoommove, fovmove];

	   function relMouseCoords(event){
	     var totalOffsetX = 0;
	     var totalOffsetY = 0;
	     var currentElement = canvas;
	   
	     do{
	       totalOffsetX += currentElement.offsetLeft;
	       totalOffsetY += currentElement.offsetTop;
	     }
	     while(currentElement = currentElement.offsetParent)
	   
	     var canvasX = event.pageX - totalOffsetX;
	     var canvasY = event.pageY - totalOffsetY;
	   
	     return {x:canvasX, y:canvasY}
	   }

	   canvas.onmousedown = function ( ev ){
	     if (!ev.which) // Use w3c defns in preference to MS
	       switch (ev.button) {
	       case 0: ev.which = 1; break;
	       case 1: 
	       case 4: ev.which = 2; break;
	       case 2: ev.which = 3;
	     }
	     drag = ev.which;
	     var f = mousedown[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y); 
	       ev.preventDefault();
	     }
	   }    

	   canvas.onmouseup = function ( ev ){	
	     drag = 0;
	   }
	   
	   canvas.onmouseout = canvas.onmouseup;

	   canvas.onmousemove = function ( ev ){
	     if ( drag == 0 ) return;
	     var f = mousemove[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y);
	     }
	   }

	   var wheelHandler = function(ev) {
	     var del = 1.1;
	     if (ev.shiftKey) del = 1.01;
	     var ds = ((ev.detail || ev.wheelDelta) > 0) ? del : (1 / del);
	     zoom *= ds;
	     drawScene();
	     ev.preventDefault();
	   };
	   canvas.addEventListener("DOMMouseScroll", wheelHandler, false);
	   canvas.addEventListener("mousewheel", wheelHandler, false);

	}
	</script>

	<canvas id="hclcanvas" width="1" height="1"></canvas> 
        <p id="hcldebug">
	<img src="hclsnapshot.png" alt="hclsnapshot" width=400/><br>
	You must enable Javascript to view this page properly.</p>
A plot of all color palettes' median change in HCL space.
</div>

<p>We're descending into fairly non-scientific analysis here, but I noticed a pattern when viewing these points along the chroma and luminosity axes. It seems like there's something of a pattern resulting in consistently positioned high-ranked palettes.

<p>I interpolated a heatmap based on these ratings on the C and L axes.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="functioncall">library</span>(akima)

resolution = 64
cSeq &lt;- <span class="functioncall">seq</span>(<span class="functioncall">min</span>(ranges[, 2]), <span class="functioncall">max</span>(ranges[, 2]), length.out = resolution)
lSeq &lt;- <span class="functioncall">seq</span>(<span class="functioncall">min</span>(ranges[, 1]), <span class="functioncall">max</span>(ranges[, 1]), length.out = resolution)

a &lt;- <span class="functioncall">interp</span>(x = ranges[, 1], y = ranges[, 2], z = normAvgs, xo = lSeq, yo = cSeq, 
    duplicate = <span class="string">"mean"</span>)

<span class="functioncall">filled.contour</span>(a, color.palette = heat_hcl, xlab = <span class="string">"Luminance"</span>, ylab = <span class="string">"Chroma"</span>, 
    main = <span class="string">"Visual Appeal Across Chroma &amp; Luminance"</span>)
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-7.png"  class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r">
maxL &lt;- lSeq[<span class="functioncall">which.max</span>(<span class="functioncall">apply</span>(a$z, 2, max, na.rm = <span class="keyword">TRUE</span>))]
</pre></div><div class="warning"><pre class="knitr r">## Warning: no non-missing arguments to max; returning -Inf
</pre></div><div class="source"><pre class="knitr r">maxC &lt;- cSeq[<span class="functioncall">which.max</span>(<span class="functioncall">apply</span>(a$z, 1, max, na.rm = <span class="keyword">TRUE</span>))]
</pre></div><div class="warning"><pre class="knitr r">## Warning: no non-missing arguments to max; returning -Inf
</pre></div></div></div>


<p>You can see the peak of visual appeal at luminance = <code class="knitr inline">6.374</code> and chroma = <code class="knitr inline">8.332</code>. A few examples of palettes using this "optimized" chroma and luminance spacing...

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="functioncall">par</span>(mfrow = <span class="functioncall">c</span>(6, 3), mar = <span class="functioncall">c</span>(2, 1, 1, 1))
<span class="functioncall"><span class="keyword">for</span></span> (i <span class="keyword">in</span> 1:18) {
    <span class="functioncall">barplot</span>(<span class="functioncall">rep</span>(1, 9), col = <span class="functioncall">sequential_hcl</span>(9, h = (20 * i), c. = <span class="functioncall">c</span>(100, 33.6), 
        l = <span class="functioncall">c</span>(40, 84.59), power = 1))
}
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-8.png"  class="plot" /></div></div>


<h3>Individual Axis Analysis</h3>

<p>There is one palette that seems to be a bit of an outlier in most regards. Of all the palettes, the greyscale palette has the lightest L value, and the lowest C and H values. If you calculate the Z-scores on each color axis, this palette has consistently higher scores; below is a plot of the average Z-score across the 3 axes.

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r"><span class="functioncall">barplot</span>(<span class="functioncall">apply</span>(<span class="functioncall">abs</span>(<span class="functioncall">scale</span>(ranges)), 1, mean), col = <span class="functioncall">c</span>(<span class="functioncall">rep</span>(<span class="string">"#BBBBBB"</span>, 17), <span class="string">"#CC7777"</span>), 
    xlab = <span class="string">"Palette #"</span>, ylab = <span class="string">"Average Z-score Across {H, C, L} Axes"</span>)
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-9.png"  class="plot" /></div></div>


<p>Because of this, I decided to exclude it from all further calculations of significance. Where appropriate, I'll still plot it graphically but distinguish it from the other palettes.

<p>Rather than relying on a 3D plot, we can examine each axis individually to see if there's a significant association between a palette's median variation on that access and its visual appeal. (The greyscale plot will be plotted with a triangle symbol in these plots, and was excluded to p-value and regression calculations).

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">filRanges &lt;- ranges[1:17, ]
filNormAvgs &lt;- normAvgs[1:17]

<span class="functioncall">plot</span>(normAvgs ~ ranges[, <span class="string">"H"</span>], pch = <span class="functioncall">c</span>(<span class="functioncall">rep</span>(1, 17), 2), main = <span class="string">"Hue vs. Visual Appeal"</span>, 
    xlab = <span class="functioncall">expression</span>(<span class="string">"Median "</span> * Delta * Hue), ylab = <span class="string">"Average Aesthetic Rating"</span>)
<span class="functioncall">abline</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"H"</span>]), col = 2)
pvH &lt;- <span class="functioncall">anova</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"H"</span>]))$<span class="string">"<span class="functioncall">Pr</span>(&gt;F)"</span>[1]
<span class="functioncall">text</span>(3, 0.1, <span class="functioncall">paste</span>(<span class="string">"p-value ="</span>, <span class="functioncall">round</span>(pvH, 3)))
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-101.png"  class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r">
<span class="functioncall">plot</span>(normAvgs ~ ranges[, <span class="string">"C"</span>], pch = <span class="functioncall">c</span>(<span class="functioncall">rep</span>(1, 17), 2), main = <span class="string">"Chroma vs. Visual Appeal"</span>, 
    xlab = <span class="functioncall">expression</span>(<span class="string">"Median "</span> * Delta * Chroma), ylab = <span class="string">"Average Aesthetic Rating"</span>)
<span class="functioncall">abline</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"C"</span>]), col = 2)
pvC &lt;- <span class="functioncall">anova</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"C"</span>]))$<span class="string">"<span class="functioncall">Pr</span>(&gt;F)"</span>[1]
<span class="functioncall">text</span>(3, 0.1, <span class="functioncall">paste</span>(<span class="string">"p-value ="</span>, <span class="functioncall">round</span>(pvC, 3)))
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-102.png"  class="plot" /></div><div class="rcode">
<div class="source"><pre class="knitr r">
<span class="functioncall">plot</span>(normAvgs ~ ranges[, <span class="string">"L"</span>], pch = <span class="functioncall">c</span>(<span class="functioncall">rep</span>(1, 17), 2), main = <span class="string">"Luminance vs. Visual Appeal"</span>, 
    xlab = <span class="functioncall">expression</span>(<span class="string">"Median "</span> * Delta * Luminance), ylab = <span class="string">"Average Aesthetic Rating"</span>)
<span class="functioncall">abline</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"L"</span>]), col = 2)
pvL &lt;- <span class="functioncall">anova</span>(<span class="functioncall">lm</span>(filNormAvgs ~ filRanges[, <span class="string">"L"</span>]))$<span class="string">"<span class="functioncall">Pr</span>(&gt;F)"</span>[1]
<span class="functioncall">text</span>(5, 0.1, <span class="functioncall">paste</span>(<span class="string">"p-value ="</span>, <span class="functioncall">round</span>(pvL, 3)))
</pre></div></div><div class="rimage default"><img src="/wp-content/uploads/2012/10/unnamed-chunk-103.png"  class="plot" /></div></div>


<p>As shown on the plots, there is no observable correlation with regards to movement through hue with visual appeal; there is a significant negative correlation between median variation in chroma and the visual appeal; and there seems to be a negative (though non-significant) correlation between median variation in luminance and visual appeal.


<h2>Conclusion</h2>

<h3>Comparison to Colorspace Palettes</h3>

<p>It was mentioned that colorspace generates their palettes in HCL space, so the trends should more obviously emerge for such palettes. As it turns out, the palettes in HCL not necessarily linear, even in HCL space. Many palettes are fairly linear on at least one axis, but often have at least one color at either end which  is completely non-linear, causing the R2 values to often be lower than they were in colorbrewer palettes. For instance:

<div class="chunk"><div class="rcode"><div class="source"><pre class="knitr r">csp &lt;- <span class="functioncall">as</span>(<span class="functioncall">hex2RGB</span>(<span class="functioncall">sequential_hcl</span>(n = 9)), <span class="string">"polarLUV"</span>)@coords
pca &lt;- <span class="functioncall">plotLuvCols</span>(csp[, <span class="string">"L"</span>], csp[, <span class="string">"C"</span>], csp[, <span class="string">"H"</span>], 1)
</pre></div></div></div>


<div align="center" style="border: 1px solid #999;">
	<script src="/wp-content/uploads/2012/05/CanvasMatrix.js" type="text/javascript"></script>
	<canvas id="colorspacetextureCanvas" style="display: none;" width="256" height="256">
        <img src="colorspacesnapshot.png" alt="colorspacesnapshot" width=400/><br>
	Your browser does not support the HTML5 canvas element.</canvas>

	<!-- ****** linestrip object 11237 ****** -->
	<script id="colorspacevshader11237" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11237" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** lines object 11238 ****** -->
	<script id="colorspacevshader11238" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11238" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11240 ****** -->
	<script id="colorspacevshader11240" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11240" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11241 ****** -->
	<script id="colorspacevshader11241" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11241" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** text object 11242 ****** -->
	<script id="colorspacevshader11242" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11242" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** points object 11243 ****** -->
	<script id="colorspacevshader11243" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  gl_PointSize = 6.;
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11243" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** linestrip object 11244 ****** -->
	<script id="colorspacevshader11244" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11244" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11245 ****** -->
	<script id="colorspacevshader11245" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11245" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11254 ****** -->
	<script id="colorspacevshader11254" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11254" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11255 ****** -->
	<script id="colorspacevshader11255" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11255" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11256 ****** -->
	<script id="colorspacevshader11256" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11256" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11257 ****** -->
	<script id="colorspacevshader11257" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11257" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11258 ****** -->
	<script id="colorspacevshader11258" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11258" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 

	<!-- ****** text object 11259 ****** -->
	<script id="colorspacevshader11259" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	attribute vec2 aTexcoord;
	varying vec2 vTexcoord;
	attribute vec2 aOfs;
	void main(void) {
	  vDiffuse = aCol;
	  vTexcoord = aTexcoord;
	  vec4 pos = prMatrix * mvMatrix * vec4(aPos, 1.);
	  pos = pos/pos.w;
	  gl_Position = pos + vec4(aOfs, 0.,0.);
	}
	</script>

	<script id="colorspacefshader11259" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	varying vec2 vTexcoord;
	uniform sampler2D uSampler;
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  vec4 textureColor = diffuse*texture2D(uSampler, vTexcoord);
	  if (textureColor.a < 0.1)
	    discard;
	  else
	    gl_FragColor = textureColor;
	}
	</script> 

	<!-- ****** lines object 11260 ****** -->
	<script id="colorspacevshader11260" type="x-shader/x-vertex">
	attribute vec3 aPos;
	attribute vec4 aCol;
	uniform mat4 mvMatrix;
	uniform mat4 prMatrix;
	varying vec4 vDiffuse;
	void main(void) {
	  gl_Position = prMatrix * mvMatrix * vec4(aPos, 1.);
	  vDiffuse = aCol;
	}
	</script>

	<script id="colorspacefshader11260" type="x-shader/x-fragment"> 
	#ifdef GL_ES
	precision highp float;
	#endif
	varying vec4 vDiffuse; // carries alpha
	void main(void) {
	  vec4 diffuse;
	  diffuse = vDiffuse;
	  gl_FragColor = diffuse;
	}
	</script> 


	<script type="text/javascript"> 

	function getShader ( gl, id ){
	   var shaderScript = document.getElementById ( id );
	   var str = "";
	   var k = shaderScript.firstChild;
	   while ( k ){
	     if ( k.nodeType == 3 ) str += k.textContent;
	     k = k.nextSibling;
	   }
	   var shader;
	   if ( shaderScript.type == "x-shader/x-fragment" )
             shader = gl.createShader ( gl.FRAGMENT_SHADER );
	   else if ( shaderScript.type == "x-shader/x-vertex" )
             shader = gl.createShader(gl.VERTEX_SHADER);
	   else return null;
	   gl.shaderSource(shader, str);
	   gl.compileShader(shader);
	   if (gl.getShaderParameter(shader, gl.COMPILE_STATUS) == 0)
	     alert(gl.getShaderInfoLog(shader));
	   return shader;
	}

	var min = Math.min;
	var max = Math.max;
	var sqrt = Math.sqrt;
	var sin = Math.sin;
	var acos = Math.acos;
	var tan = Math.tan;
	var SQRT2 = Math.SQRT2;
	var PI = Math.PI;
	var log = Math.log;
	var exp = Math.exp;

	function colorspacewebGLStart() {
	   var debug = function(msg) {
	     document.getElementById("colorspacedebug").innerHTML = msg;
	   }
	   debug("");

	   var canvas = document.getElementById("colorspacecanvas");
	   if (!window.WebGLRenderingContext){
	     debug("<img src=\"colorspacesnapshot.png\" alt=\"colorspacesnapshot\" width=400/><br> Your browser does not support WebGL. See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var gl;
	   try {
	     // Try to grab the standard context. If it fails, fallback to experimental.
	     gl = canvas.getContext("webgl") 
	       || canvas.getContext("experimental-webgl");
	   }
	   catch(e) {}
	   if ( !gl ) {
	     debug("<img src=\"colorspacesnapshot.png\" alt=\"colorspacesnapshot\" width=400/><br> Your browser appears to support WebGL, but did not create a WebGL context.  See <a href=\"http://get.webgl.org\">http://get.webgl.org</a>");
	     return;
	   }
	   var width = 400;  var height = 702.6827;
	   canvas.width = width;   canvas.height = height;
	   gl.viewport(0, 0, width, height);
	   var prMatrix = new CanvasMatrix4();
	   var mvMatrix = new CanvasMatrix4();
	   var normMatrix = new CanvasMatrix4();
	   var saveMat = new CanvasMatrix4();
	   saveMat.makeIdentity();
	   var distance;

	   var zoom = 1.1;
	   var fov = 60;
	   var userMatrix = new CanvasMatrix4();
	   userMatrix.load([
	    -0.1736482, 0.3368241, -0.9254165, 0,
	    0, 0.9396926, 0.3420201, 0,
	    0.9848077, 0.05939118, -0.1631759, 0,
	    0, 0, 0, 1
		]);
	   function getPowerOfTwo(value) {
	     var pow = 1;
	     while(pow<value) {
	       pow *= 2;
	     }
	     return pow;
	   }

	   function handleLoadedTexture(texture, textureCanvas) {
	     gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, true);

	     gl.bindTexture(gl.TEXTURE_2D, texture);
	     gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, textureCanvas);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);
	     gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_NEAREST);
	     gl.generateMipmap(gl.TEXTURE_2D);

	     gl.bindTexture(gl.TEXTURE_2D, null);
	   }
	   
	   function loadImageToTexture(filename, texture) {   
	     var canvas = document.getElementById("colorspacetextureCanvas");
	     var ctx = canvas.getContext("2d");
	     var image = new Image();
	     
	     image.onload = function() {
	       var w = image.width;
	       var h = image.height;
	       var canvasX = getPowerOfTwo(w);
	       var canvasY = getPowerOfTwo(h);
	       canvas.width = canvasX;
	       canvas.height = canvasY;
	       ctx.imageSmoothingEnabled = true;
	       ctx.drawImage(image, 0, 0, canvasX, canvasY);
	       handleLoadedTexture(texture, canvas);
   	       drawScene();
	     }
	     image.src = filename;
	   }  	   

	   function drawTextToCanvas(text, cex) {
	     var canvasX, canvasY;
	     var textX, textY;

	     var textHeight = 20 * cex;
	     var textColour = "white";
	     var fontFamily = "Arial";

	     var backgroundColour = "rgba(0,0,0,0)";

	     var canvas = document.getElementById("colorspacetextureCanvas");
	     var ctx = canvas.getContext("2d");

	     ctx.font = textHeight+"px "+fontFamily;

             canvasX = 1;
             var widths = [];
	     for (var i = 0; i < text.length; i++)  {
	       widths[i] = ctx.measureText(text[i]).width;
	       canvasX = (widths[i] > canvasX) ? widths[i] : canvasX;
	     }	  
	     canvasX = getPowerOfTwo(canvasX);

	     var offset = 2*textHeight; // offset to first baseline
	     var skip = 2*textHeight;   // skip between baselines	  
	     canvasY = getPowerOfTwo(offset + text.length*skip);
	     
	     canvas.width = canvasX;
	     canvas.height = canvasY;

	     ctx.fillStyle = backgroundColour;
	     ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);

	     ctx.fillStyle = textColour;
	     ctx.textAlign = "left";

	     ctx.textBaseline = "alphabetic";
	     ctx.font = textHeight+"px "+fontFamily;

	     for(var i = 0; i < text.length; i++) {
	       textY = i*skip + offset;
	       ctx.fillText(text[i], 0,  textY);
	     }
	     return {canvasX:canvasX, canvasY:canvasY,
	             widths:widths, textHeight:textHeight,
	             offset:offset, skip:skip};
	   }


	   // ****** linestrip object 11237 ******
	   var prog11237  = gl.createProgram();
	   gl.attachShader(prog11237, getShader( gl, "colorspacevshader11237" ));
	   gl.attachShader(prog11237, getShader( gl, "colorspacefshader11237" ));
	   gl.linkProgram(prog11237);
	   var v=new Float32Array([
	    30.11593, 80.09344, 259.9637, 0.007843138, 0.2470588, 0.6470588, 1,
	    40.98951, 65.46589, 260.0385, 0.282353, 0.3607843, 0.6588235, 1,
	    50.96022, 52.24447, 260.3459, 0.4156863, 0.4627451, 0.6980392, 1,
	    60.31009, 39.67363, 260.4193, 0.5294118, 0.5607843, 0.7411765, 1,
	    68.76492, 28.76713, 260.8507, 0.6313726, 0.6509804, 0.7843137, 1,
	    76.19846, 18.49262, 259.3563, 0.7176471, 0.7333333, 0.8196079, 1,
	    82.57648, 9.897429, 259.6119, 0.7960784, 0.8039216, 0.8509804, 1,
	    87.43447, 3.334913, 256.3952, 0.854902, 0.8588235, 0.8745098, 1,
	    89.88369, 0.006909247, 94.09931, 0.8862745, 0.8862745, 0.8862745, 1
	   ]);
	   var posLoc11237 = gl.getAttribLocation(prog11237, "aPos");
	   var colLoc11237 = gl.getAttribLocation(prog11237, "aCol");
	   var buf11237 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11237);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11237 = gl.getUniformLocation(prog11237,"mvMatrix");
	   var prMatLoc11237 = gl.getUniformLocation(prog11237,"prMatrix");


	   // ****** lines object 11238 ******
	   var prog11238  = gl.createProgram();
	   gl.attachShader(prog11238, getShader( gl, "colorspacevshader11238" ));
	   gl.attachShader(prog11238, getShader( gl, "colorspacefshader11238" ));
	   gl.linkProgram(prog11238);
	   var v=new Float32Array([
	    0, 0, 0,
	    0, 0, 0,
	    100, 160, 360,
	    100, 160, 360
	   ]);
	   var posLoc11238 = gl.getAttribLocation(prog11238, "aPos");
	   var colLoc11238 = gl.getAttribLocation(prog11238, "aCol");
	   var buf11238 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11238);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11238 = gl.getUniformLocation(prog11238,"mvMatrix");
	   var prMatLoc11238 = gl.getUniformLocation(prog11238,"prMatrix");


	   // ****** text object 11240 ******
	   var prog11240  = gl.createProgram();
	   gl.attachShader(prog11240, getShader( gl, "colorspacevshader11240" ));
	   gl.attachShader(prog11240, getShader( gl, "colorspacefshader11240" ));
	   gl.linkProgram(prog11240);
	   var texts = [
	    "L"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11240 = texinfo.canvasX;
	   var canvasY11240 = texinfo.canvasY;
	   var ofsLoc11240 = gl.getAttribLocation(prog11240, "aOfs");
	   var texture11240 = gl.createTexture();
	   var texLoc11240 = gl.getAttribLocation(prog11240, "aTexcoord");
	   var sampler11240 = gl.getUniformLocation(prog11240,"uSampler");
    	   handleLoadedTexture(texture11240, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    50, -27.12, -61.02, 0, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, -0.5, 0.5, 0.5,
	    50, -27.12, -61.02, 1, 1.5, 0.5, 0.5,
	    50, -27.12, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11240 = gl.getAttribLocation(prog11240, "aPos");
	   var colLoc11240 = gl.getAttribLocation(prog11240, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11240 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11240);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11240 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11240);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11240 = gl.getUniformLocation(prog11240,"mvMatrix");
	   var prMatLoc11240 = gl.getUniformLocation(prog11240,"prMatrix");


	   // ****** text object 11241 ******
	   var prog11241  = gl.createProgram();
	   gl.attachShader(prog11241, getShader( gl, "colorspacevshader11241" ));
	   gl.attachShader(prog11241, getShader( gl, "colorspacefshader11241" ));
	   gl.linkProgram(prog11241);
	   var texts = [
	    "C"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11241 = texinfo.canvasX;
	   var canvasY11241 = texinfo.canvasY;
	   var ofsLoc11241 = gl.getAttribLocation(prog11241, "aOfs");
	   var texture11241 = gl.createTexture();
	   var texLoc11241 = gl.getAttribLocation(prog11241, "aTexcoord");
	   var sampler11241 = gl.getUniformLocation(prog11241,"uSampler");
    	   handleLoadedTexture(texture11241, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    -16.95, 80, -61.02, 0, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, -0.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 1, 1.5, 0.5, 0.5,
	    -16.95, 80, -61.02, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11241 = gl.getAttribLocation(prog11241, "aPos");
	   var colLoc11241 = gl.getAttribLocation(prog11241, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11241 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11241);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11241 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11241);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11241 = gl.getUniformLocation(prog11241,"mvMatrix");
	   var prMatLoc11241 = gl.getUniformLocation(prog11241,"prMatrix");


	   // ****** text object 11242 ******
	   var prog11242  = gl.createProgram();
	   gl.attachShader(prog11242, getShader( gl, "colorspacevshader11242" ));
	   gl.attachShader(prog11242, getShader( gl, "colorspacefshader11242" ));
	   gl.linkProgram(prog11242);
	   var texts = [
	    "H"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11242 = texinfo.canvasX;
	   var canvasY11242 = texinfo.canvasY;
	   var ofsLoc11242 = gl.getAttribLocation(prog11242, "aOfs");
	   var texture11242 = gl.createTexture();
	   var texLoc11242 = gl.getAttribLocation(prog11242, "aTexcoord");
	   var sampler11242 = gl.getUniformLocation(prog11242,"uSampler");
    	   handleLoadedTexture(texture11242, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    -16.95, -27.12, 180, 0, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, -0.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 1, 1.5, 0.5, 0.5,
	    -16.95, -27.12, 180, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11242 = gl.getAttribLocation(prog11242, "aPos");
	   var colLoc11242 = gl.getAttribLocation(prog11242, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11242 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11242);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11242 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11242);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11242 = gl.getUniformLocation(prog11242,"mvMatrix");
	   var prMatLoc11242 = gl.getUniformLocation(prog11242,"prMatrix");


	   // ****** points object 11243 ******
	   var prog11243  = gl.createProgram();
	   gl.attachShader(prog11243, getShader( gl, "colorspacevshader11243" ));
	   gl.attachShader(prog11243, getShader( gl, "colorspacefshader11243" ));
	   gl.linkProgram(prog11243);
	   var v=new Float32Array([
	    30.11593, 80.09344, 259.9637, 0.007843138, 0.2470588, 0.6470588, 1,
	    40.98951, 65.46589, 260.0385, 0.282353, 0.3607843, 0.6588235, 1,
	    50.96022, 52.24447, 260.3459, 0.4156863, 0.4627451, 0.6980392, 1,
	    60.31009, 39.67363, 260.4193, 0.5294118, 0.5607843, 0.7411765, 1,
	    68.76492, 28.76713, 260.8507, 0.6313726, 0.6509804, 0.7843137, 1,
	    76.19846, 18.49262, 259.3563, 0.7176471, 0.7333333, 0.8196079, 1,
	    82.57648, 9.897429, 259.6119, 0.7960784, 0.8039216, 0.8509804, 1,
	    87.43447, 3.334913, 256.3952, 0.854902, 0.8588235, 0.8745098, 1,
	    89.88369, 0.006909247, 94.09931, 0.8862745, 0.8862745, 0.8862745, 1
	   ]);
	   var posLoc11243 = gl.getAttribLocation(prog11243, "aPos");
	   var colLoc11243 = gl.getAttribLocation(prog11243, "aCol");
	   var buf11243 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11243);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11243 = gl.getUniformLocation(prog11243,"mvMatrix");
	   var prMatLoc11243 = gl.getUniformLocation(prog11243,"prMatrix");


	   // ****** linestrip object 11244 ******
	   var prog11244  = gl.createProgram();
	   gl.attachShader(prog11244, getShader( gl, "colorspacevshader11244" ));
	   gl.attachShader(prog11244, getShader( gl, "colorspacefshader11244" ));
	   gl.linkProgram(prog11244);
	   var v=new Float32Array([
	    56.31163, 45.09863, 277.9717,
	    99.49914, -12.84578, 100.4166
	   ]);
	   var posLoc11244 = gl.getAttribLocation(prog11244, "aPos");
	   var colLoc11244 = gl.getAttribLocation(prog11244, "aCol");
	   var buf11244 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11244);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11244 = gl.getUniformLocation(prog11244,"mvMatrix");
	   var prMatLoc11244 = gl.getUniformLocation(prog11244,"prMatrix");


	   // ****** text object 11245 ******
	   var prog11245  = gl.createProgram();
	   gl.attachShader(prog11245, getShader( gl, "colorspacevshader11245" ));
	   gl.attachShader(prog11245, getShader( gl, "colorspacefshader11245" ));
	   gl.linkProgram(prog11245);
	   var texts = [
	    "R2 = 0.792"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11245 = texinfo.canvasX;
	   var canvasY11245 = texinfo.canvasY;
	   var ofsLoc11245 = gl.getAttribLocation(prog11245, "aOfs");
	   var texture11245 = gl.createTexture();
	   var texLoc11245 = gl.getAttribLocation(prog11245, "aTexcoord");
	   var sampler11245 = gl.getUniformLocation(prog11245,"uSampler");
    	   handleLoadedTexture(texture11245, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    50, 50, 250, 0, -0.5, 0.5, 0.5,
	    50, 50, 250, 1, -0.5, 0.5, 0.5,
	    50, 50, 250, 1, 1.5, 0.5, 0.5,
	    50, 50, 250, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<1; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11245 = gl.getAttribLocation(prog11245, "aPos");
	   var colLoc11245 = gl.getAttribLocation(prog11245, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3
	   ]);
	   var buf11245 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11245);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11245 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11245);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11245 = gl.getUniformLocation(prog11245,"mvMatrix");
	   var prMatLoc11245 = gl.getUniformLocation(prog11245,"prMatrix");


	   // ****** lines object 11254 ******
	   var prog11254  = gl.createProgram();
	   gl.attachShader(prog11254, getShader( gl, "colorspacevshader11254" ));
	   gl.attachShader(prog11254, getShader( gl, "colorspacefshader11254" ));
	   gl.linkProgram(prog11254);
	   var v=new Float32Array([
	    0, -15.43846, -5.4,
	    100, -15.43846, -5.4,
	    0, -15.43846, -5.4,
	    0, -19.88924, -14.67,
	    20, -15.43846, -5.4,
	    20, -19.88924, -14.67,
	    40, -15.43846, -5.4,
	    40, -19.88924, -14.67,
	    60, -15.43846, -5.4,
	    60, -19.88924, -14.67,
	    80, -15.43846, -5.4,
	    80, -19.88924, -14.67,
	    100, -15.43846, -5.4,
	    100, -19.88924, -14.67
	   ]);
	   var posLoc11254 = gl.getAttribLocation(prog11254, "aPos");
	   var colLoc11254 = gl.getAttribLocation(prog11254, "aCol");
	   var buf11254 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11254);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11254 = gl.getUniformLocation(prog11254,"mvMatrix");
	   var prMatLoc11254 = gl.getUniformLocation(prog11254,"prMatrix");


	   // ****** text object 11255 ******
	   var prog11255  = gl.createProgram();
	   gl.attachShader(prog11255, getShader( gl, "colorspacevshader11255" ));
	   gl.attachShader(prog11255, getShader( gl, "colorspacefshader11255" ));
	   gl.linkProgram(prog11255);
	   var texts = [
	    "0",
	    "20",
	    "40",
	    "60",
	    "80",
	    "100"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11255 = texinfo.canvasX;
	   var canvasY11255 = texinfo.canvasY;
	   var ofsLoc11255 = gl.getAttribLocation(prog11255, "aOfs");
	   var texture11255 = gl.createTexture();
	   var texLoc11255 = gl.getAttribLocation(prog11255, "aTexcoord");
	   var sampler11255 = gl.getUniformLocation(prog11255,"uSampler");
    	   handleLoadedTexture(texture11255, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    0, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    0, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    0, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    0, -28.7908, -33.21, 0, 1.5, 0.5, 0.5,
	    20, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    20, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    20, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    20, -28.7908, -33.21, 0, 1.5, 0.5, 0.5,
	    40, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    40, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    40, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    40, -28.7908, -33.21, 0, 1.5, 0.5, 0.5,
	    60, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    60, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    60, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    60, -28.7908, -33.21, 0, 1.5, 0.5, 0.5,
	    80, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    80, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    80, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    80, -28.7908, -33.21, 0, 1.5, 0.5, 0.5,
	    100, -28.7908, -33.21, 0, -0.5, 0.5, 0.5,
	    100, -28.7908, -33.21, 1, -0.5, 0.5, 0.5,
	    100, -28.7908, -33.21, 1, 1.5, 0.5, 0.5,
	    100, -28.7908, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<6; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11255 = gl.getAttribLocation(prog11255, "aPos");
	   var colLoc11255 = gl.getAttribLocation(prog11255, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15,
	    16, 17, 18, 16, 18, 19,
	    20, 21, 22, 20, 22, 23
	   ]);
	   var buf11255 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11255);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11255 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11255);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11255 = gl.getUniformLocation(prog11255,"mvMatrix");
	   var prMatLoc11255 = gl.getUniformLocation(prog11255,"prMatrix");


	   // ****** lines object 11256 ******
	   var prog11256  = gl.createProgram();
	   gl.attachShader(prog11256, getShader( gl, "colorspacevshader11256" ));
	   gl.attachShader(prog11256, getShader( gl, "colorspacefshader11256" ));
	   gl.linkProgram(prog11256);
	   var v=new Float32Array([
	    -1.5, 0, -5.4,
	    -1.5, 150, -5.4,
	    -1.5, 0, -5.4,
	    -4.075, 0, -14.67,
	    -1.5, 50, -5.4,
	    -4.075, 50, -14.67,
	    -1.5, 100, -5.4,
	    -4.075, 100, -14.67,
	    -1.5, 150, -5.4,
	    -4.075, 150, -14.67
	   ]);
	   var posLoc11256 = gl.getAttribLocation(prog11256, "aPos");
	   var colLoc11256 = gl.getAttribLocation(prog11256, "aCol");
	   var buf11256 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11256);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11256 = gl.getUniformLocation(prog11256,"mvMatrix");
	   var prMatLoc11256 = gl.getUniformLocation(prog11256,"prMatrix");


	   // ****** text object 11257 ******
	   var prog11257  = gl.createProgram();
	   gl.attachShader(prog11257, getShader( gl, "colorspacevshader11257" ));
	   gl.attachShader(prog11257, getShader( gl, "colorspacefshader11257" ));
	   gl.linkProgram(prog11257);
	   var texts = [
	    "0",
	    "50",
	    "100",
	    "150"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11257 = texinfo.canvasX;
	   var canvasY11257 = texinfo.canvasY;
	   var ofsLoc11257 = gl.getAttribLocation(prog11257, "aOfs");
	   var texture11257 = gl.createTexture();
	   var texLoc11257 = gl.getAttribLocation(prog11257, "aTexcoord");
	   var sampler11257 = gl.getUniformLocation(prog11257,"uSampler");
    	   handleLoadedTexture(texture11257, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    -9.225, 0, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 0, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 50, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 100, -33.21, 0, 1.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 0, -0.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 1, -0.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 1, 1.5, 0.5, 0.5,
	    -9.225, 150, -33.21, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11257 = gl.getAttribLocation(prog11257, "aPos");
	   var colLoc11257 = gl.getAttribLocation(prog11257, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11257 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11257);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11257 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11257);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11257 = gl.getUniformLocation(prog11257,"mvMatrix");
	   var prMatLoc11257 = gl.getUniformLocation(prog11257,"prMatrix");


	   // ****** lines object 11258 ******
	   var prog11258  = gl.createProgram();
	   gl.attachShader(prog11258, getShader( gl, "colorspacevshader11258" ));
	   gl.attachShader(prog11258, getShader( gl, "colorspacefshader11258" ));
	   gl.linkProgram(prog11258);
	   var v=new Float32Array([
	    -1.5, -15.43846, 0,
	    -1.5, -15.43846, 300,
	    -1.5, -15.43846, 0,
	    -4.075, -19.88924, 0,
	    -1.5, -15.43846, 100,
	    -4.075, -19.88924, 100,
	    -1.5, -15.43846, 200,
	    -4.075, -19.88924, 200,
	    -1.5, -15.43846, 300,
	    -4.075, -19.88924, 300
	   ]);
	   var posLoc11258 = gl.getAttribLocation(prog11258, "aPos");
	   var colLoc11258 = gl.getAttribLocation(prog11258, "aCol");
	   var buf11258 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11258);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11258 = gl.getUniformLocation(prog11258,"mvMatrix");
	   var prMatLoc11258 = gl.getUniformLocation(prog11258,"prMatrix");


	   // ****** text object 11259 ******
	   var prog11259  = gl.createProgram();
	   gl.attachShader(prog11259, getShader( gl, "colorspacevshader11259" ));
	   gl.attachShader(prog11259, getShader( gl, "colorspacefshader11259" ));
	   gl.linkProgram(prog11259);
	   var texts = [
	    "0",
	    "100",
	    "200",
	    "300"
	   ];
	   var texinfo = drawTextToCanvas(texts, 1);	 
	   var canvasX11259 = texinfo.canvasX;
	   var canvasY11259 = texinfo.canvasY;
	   var ofsLoc11259 = gl.getAttribLocation(prog11259, "aOfs");
	   var texture11259 = gl.createTexture();
	   var texLoc11259 = gl.getAttribLocation(prog11259, "aTexcoord");
	   var sampler11259 = gl.getUniformLocation(prog11259,"uSampler");
    	   handleLoadedTexture(texture11259, document.getElementById("colorspacetextureCanvas"));
	   var v=new Float32Array([
	    -9.225, -28.7908, 0, 0, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 0, 1, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 0, 1, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 0, 0, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 100, 0, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 100, 1, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 100, 1, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 100, 0, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 200, 0, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 200, 1, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 200, 1, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 200, 0, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 300, 0, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 300, 1, -0.5, 0.5, 0.5,
	    -9.225, -28.7908, 300, 1, 1.5, 0.5, 0.5,
	    -9.225, -28.7908, 300, 0, 1.5, 0.5, 0.5
	   ]);
	   for (var i=0; i<4; i++) 
	     for (var j=0; j<4; j++) {
	         ind = 7*(4*i + j) + 3;
	         v[ind+2] = 2*(v[ind]-v[ind+2])*texinfo.widths[i]/width;
	         v[ind+3] = 2*(v[ind+1]-v[ind+3])*texinfo.textHeight/height;
	         v[ind] *= texinfo.widths[i]/texinfo.canvasX;
	         v[ind+1] = 1.0-(texinfo.offset + i*texinfo.skip 
	           - v[ind+1]*texinfo.textHeight)/texinfo.canvasY;
	     }
	   var posLoc11259 = gl.getAttribLocation(prog11259, "aPos");
	   var colLoc11259 = gl.getAttribLocation(prog11259, "aCol");
	   var f=new Uint16Array([
	    0, 1, 2, 0, 2, 3,
	    4, 5, 6, 4, 6, 7,
	    8, 9, 10, 8, 10, 11,
	    12, 13, 14, 12, 14, 15
	   ]);
	   var buf11259 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11259);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var ibuf11259 = gl.createBuffer();
	   gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11259);
	   gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, f, gl.STATIC_DRAW);
	   var mvMatLoc11259 = gl.getUniformLocation(prog11259,"mvMatrix");
	   var prMatLoc11259 = gl.getUniformLocation(prog11259,"prMatrix");


	   // ****** lines object 11260 ******
	   var prog11260  = gl.createProgram();
	   gl.attachShader(prog11260, getShader( gl, "colorspacevshader11260" ));
	   gl.attachShader(prog11260, getShader( gl, "colorspacefshader11260" ));
	   gl.linkProgram(prog11260);
	   var v=new Float32Array([
	    -1.5, -15.43846, -5.4,
	    -1.5, 162.5927, -5.4,
	    -1.5, -15.43846, 365.4,
	    -1.5, 162.5927, 365.4,
	    -1.5, -15.43846, -5.4,
	    -1.5, -15.43846, 365.4,
	    -1.5, 162.5927, -5.4,
	    -1.5, 162.5927, 365.4,
	    -1.5, -15.43846, -5.4,
	    101.5, -15.43846, -5.4,
	    -1.5, -15.43846, 365.4,
	    101.5, -15.43846, 365.4,
	    -1.5, 162.5927, -5.4,
	    101.5, 162.5927, -5.4,
	    -1.5, 162.5927, 365.4,
	    101.5, 162.5927, 365.4,
	    101.5, -15.43846, -5.4,
	    101.5, 162.5927, -5.4,
	    101.5, -15.43846, 365.4,
	    101.5, 162.5927, 365.4,
	    101.5, -15.43846, -5.4,
	    101.5, -15.43846, 365.4,
	    101.5, 162.5927, -5.4,
	    101.5, 162.5927, 365.4
	   ]);
	   var posLoc11260 = gl.getAttribLocation(prog11260, "aPos");
	   var colLoc11260 = gl.getAttribLocation(prog11260, "aCol");
	   var buf11260 = gl.createBuffer();
	   gl.bindBuffer(gl.ARRAY_BUFFER, buf11260);
	   gl.bufferData(gl.ARRAY_BUFFER, v, gl.STATIC_DRAW);
	   var mvMatLoc11260 = gl.getUniformLocation(prog11260,"mvMatrix");
	   var prMatLoc11260 = gl.getUniformLocation(prog11260,"prMatrix");

	   gl.enable(gl.DEPTH_TEST);
	   gl.depthFunc(gl.LEQUAL);
	   gl.clearDepth(1.0);
	   gl.clearColor(1, 1, 1, 1);
	   var xOffs = yOffs = 0,  drag  = 0;
	   drawScene();

	   function drawScene(){
	     gl.depthMask(true);
	     gl.disable(gl.BLEND);
	     var radius = 229.6849;
	     var s = sin(fov*PI/360);
	     var t = tan(fov*PI/360);
	     var distance = radius/s;
	     var near = distance - radius;
	     var far = distance + radius;
	     var hlen = t*near;
	     var aspect = width/height;
	     prMatrix.makeIdentity();
	     if (aspect > 1)
	       prMatrix.frustum(-hlen*aspect*zoom, hlen*aspect*zoom, 
	                        -hlen*zoom, hlen*zoom, near, far);
	     else  
	       prMatrix.frustum(-hlen*zoom, hlen*zoom, 
	                        -hlen*zoom/aspect, hlen*zoom/aspect, 
	                        near, far);
	     mvMatrix.makeIdentity();
	     mvMatrix.translate( -50, -73.57711, -180 );
	     mvMatrix.scale( 2.346629, 1.466643, 0.6518413 );   
	     mvMatrix.multRight( userMatrix );  
	     mvMatrix.translate(0, 0, -distance);
	     gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);


	     // ****** linestrip object 11237 *******
	     gl.useProgram(prog11237);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11237);
	     gl.uniformMatrix4fv( prMatLoc11237, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11237, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11237 );
	     gl.enableVertexAttribArray( colLoc11237 );
	     gl.vertexAttribPointer(colLoc11237, 4, gl.FLOAT, false, 28, 12);
	     gl.lineWidth( 2 );
	     gl.vertexAttribPointer(posLoc11237,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.LINE_STRIP, 0, 9);

	     // ****** lines object 11238 *******
	     gl.useProgram(prog11238);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11238);
	     gl.uniformMatrix4fv( prMatLoc11238, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11238, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11238 );
	     gl.disableVertexAttribArray( colLoc11238 );
	     gl.vertexAttrib4f( colLoc11238, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11238,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 4);

	     // ****** text object 11240 *******
	     gl.useProgram(prog11240);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11240);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11240);
	     gl.uniformMatrix4fv( prMatLoc11240, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11240, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11240 );
	     gl.disableVertexAttribArray( colLoc11240 );
	     gl.vertexAttrib4f( colLoc11240, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11240 );
	     gl.vertexAttribPointer(texLoc11240, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11240);
	     gl.uniform1i( sampler11240, 0);
	     gl.enableVertexAttribArray( ofsLoc11240 );
	     gl.vertexAttribPointer(ofsLoc11240, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11240,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11241 *******
	     gl.useProgram(prog11241);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11241);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11241);
	     gl.uniformMatrix4fv( prMatLoc11241, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11241, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11241 );
	     gl.disableVertexAttribArray( colLoc11241 );
	     gl.vertexAttrib4f( colLoc11241, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11241 );
	     gl.vertexAttribPointer(texLoc11241, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11241);
	     gl.uniform1i( sampler11241, 0);
	     gl.enableVertexAttribArray( ofsLoc11241 );
	     gl.vertexAttribPointer(ofsLoc11241, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11241,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** text object 11242 *******
	     gl.useProgram(prog11242);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11242);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11242);
	     gl.uniformMatrix4fv( prMatLoc11242, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11242, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11242 );
	     gl.disableVertexAttribArray( colLoc11242 );
	     gl.vertexAttrib4f( colLoc11242, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11242 );
	     gl.vertexAttribPointer(texLoc11242, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11242);
	     gl.uniform1i( sampler11242, 0);
	     gl.enableVertexAttribArray( ofsLoc11242 );
	     gl.vertexAttribPointer(ofsLoc11242, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11242,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** points object 11243 *******
	     gl.useProgram(prog11243);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11243);
	     gl.uniformMatrix4fv( prMatLoc11243, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11243, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11243 );
	     gl.enableVertexAttribArray( colLoc11243 );
	     gl.vertexAttribPointer(colLoc11243, 4, gl.FLOAT, false, 28, 12);
	     gl.vertexAttribPointer(posLoc11243,  3, gl.FLOAT, false, 28,  0);
	     gl.drawArrays(gl.POINTS, 0, 9);

	     // ****** linestrip object 11244 *******
	     gl.useProgram(prog11244);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11244);
	     gl.uniformMatrix4fv( prMatLoc11244, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11244, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11244 );
	     gl.disableVertexAttribArray( colLoc11244 );
	     gl.vertexAttrib4f( colLoc11244, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11244,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINE_STRIP, 0, 2);

	     // ****** text object 11245 *******
	     gl.useProgram(prog11245);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11245);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11245);
	     gl.uniformMatrix4fv( prMatLoc11245, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11245, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11245 );
	     gl.disableVertexAttribArray( colLoc11245 );
	     gl.vertexAttrib4f( colLoc11245, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11245 );
	     gl.vertexAttribPointer(texLoc11245, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11245);
	     gl.uniform1i( sampler11245, 0);
	     gl.enableVertexAttribArray( ofsLoc11245 );
	     gl.vertexAttribPointer(ofsLoc11245, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11245,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11254 *******
	     gl.useProgram(prog11254);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11254);
	     gl.uniformMatrix4fv( prMatLoc11254, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11254, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11254 );
	     gl.disableVertexAttribArray( colLoc11254 );
	     gl.vertexAttrib4f( colLoc11254, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11254,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 14);

	     // ****** text object 11255 *******
	     gl.useProgram(prog11255);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11255);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11255);
	     gl.uniformMatrix4fv( prMatLoc11255, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11255, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11255 );
	     gl.disableVertexAttribArray( colLoc11255 );
	     gl.vertexAttrib4f( colLoc11255, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11255 );
	     gl.vertexAttribPointer(texLoc11255, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11255);
	     gl.uniform1i( sampler11255, 0);
	     gl.enableVertexAttribArray( ofsLoc11255 );
	     gl.vertexAttribPointer(ofsLoc11255, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11255,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 36, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11256 *******
	     gl.useProgram(prog11256);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11256);
	     gl.uniformMatrix4fv( prMatLoc11256, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11256, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11256 );
	     gl.disableVertexAttribArray( colLoc11256 );
	     gl.vertexAttrib4f( colLoc11256, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11256,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11257 *******
	     gl.useProgram(prog11257);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11257);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11257);
	     gl.uniformMatrix4fv( prMatLoc11257, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11257, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11257 );
	     gl.disableVertexAttribArray( colLoc11257 );
	     gl.vertexAttrib4f( colLoc11257, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11257 );
	     gl.vertexAttribPointer(texLoc11257, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11257);
	     gl.uniform1i( sampler11257, 0);
	     gl.enableVertexAttribArray( ofsLoc11257 );
	     gl.vertexAttribPointer(ofsLoc11257, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11257,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11258 *******
	     gl.useProgram(prog11258);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11258);
	     gl.uniformMatrix4fv( prMatLoc11258, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11258, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11258 );
	     gl.disableVertexAttribArray( colLoc11258 );
	     gl.vertexAttrib4f( colLoc11258, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11258,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 10);

	     // ****** text object 11259 *******
	     gl.useProgram(prog11259);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11259);
	     gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibuf11259);
	     gl.uniformMatrix4fv( prMatLoc11259, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11259, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11259 );
	     gl.disableVertexAttribArray( colLoc11259 );
	     gl.vertexAttrib4f( colLoc11259, 0, 0, 0, 1 );
	     gl.enableVertexAttribArray( texLoc11259 );
	     gl.vertexAttribPointer(texLoc11259, 2, gl.FLOAT, false, 28, 12);
	     gl.activeTexture(gl.TEXTURE0);
	     gl.bindTexture(gl.TEXTURE_2D, texture11259);
	     gl.uniform1i( sampler11259, 0);
	     gl.enableVertexAttribArray( ofsLoc11259 );
	     gl.vertexAttribPointer(ofsLoc11259, 2, gl.FLOAT, false, 28, 20);
	     gl.vertexAttribPointer(posLoc11259,  3, gl.FLOAT, false, 28,  0);
	     gl.drawElements(gl.TRIANGLES, 24, gl.UNSIGNED_SHORT, 0);

	     // ****** lines object 11260 *******
	     gl.useProgram(prog11260);
	     gl.bindBuffer(gl.ARRAY_BUFFER, buf11260);
	     gl.uniformMatrix4fv( prMatLoc11260, false, new Float32Array(prMatrix.getAsArray()) );
	     gl.uniformMatrix4fv( mvMatLoc11260, false, new Float32Array(mvMatrix.getAsArray()) );
	     gl.enableVertexAttribArray( posLoc11260 );
	     gl.disableVertexAttribArray( colLoc11260 );
	     gl.vertexAttrib4f( colLoc11260, 0, 0, 0, 1 );
	     gl.lineWidth( 1 );
	     gl.vertexAttribPointer(posLoc11260,  3, gl.FLOAT, false, 12,  0);
	     gl.drawArrays(gl.LINES, 0, 24);

	     gl.flush ();
	   }

	   var vlen = function(v) {
	     return sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2])
	   }
	   
	   var xprod = function(a, b) {
	     return [a[1]*b[2] - a[2]*b[1],
	             a[2]*b[0] - a[0]*b[2],
	             a[0]*b[1] - a[1]*b[0]];
	   }

	   var screenToVector = function(x, y) {
	     var radius = max(width, height)/2.0;
	     var cx = width/2.0;
	     var cy = height/2.0;
	     var px = (x-cx)/radius;
	     var py = (y-cy)/radius;
	     var plen = sqrt(px*px+py*py);
	     if (plen > 1.e-6) { 
	       px = px/plen;
	       py = py/plen;
	     }

	     var angle = (SQRT2 - plen)/SQRT2*PI/2;
	     var z = sin(angle);
	     var zlen = sqrt(1.0 - z*z);
	     px = px * zlen;
	     py = py * zlen;
	     return [px, py, z];
	   }

	   var rotBase;

	   var trackballdown = function(x,y) {
	     rotBase = screenToVector(x, y);
	     saveMat.load(userMatrix);
	   }
	   
	   var trackballmove = function(x,y) {
	     var rotCurrent = screenToVector(x,y);
	     var dot = rotBase[0]*rotCurrent[0] + 
	   	       rotBase[1]*rotCurrent[1] + 
	   	       rotBase[2]*rotCurrent[2];
	     var angle = acos( dot/vlen(rotBase)/vlen(rotCurrent) )*180./PI;
	     var axis = xprod(rotBase, rotCurrent);
	     userMatrix.load(saveMat);
	     userMatrix.rotate(angle, axis[0], axis[1], axis[2]);
	     drawScene();
	   }

	   var y0zoom = 0;
	   var zoom0 = 1;
	   var zoomdown = function(x, y) {
	     y0zoom = y;
	     zoom0 = log(zoom);
	   }

	   var zoommove = function(x, y) {
	     zoom = exp(zoom0 + (y-y0zoom)/height);
	     drawScene();
	   }

	   var y0fov = 0;
	   var fov0 = 1;
	   var fovdown = function(x, y) {
	     y0fov = y;
	     fov0 = fov;
	   }

	   var fovmove = function(x, y) {
	     fov = max(1, min(179, fov0 + 180*(y-y0fov)/height));
	     drawScene();
	   }

	   var mousedown = [trackballdown, zoomdown, fovdown];
	   var mousemove = [trackballmove, zoommove, fovmove];

	   function relMouseCoords(event){
	     var totalOffsetX = 0;
	     var totalOffsetY = 0;
	     var currentElement = canvas;
	   
	     do{
	       totalOffsetX += currentElement.offsetLeft;
	       totalOffsetY += currentElement.offsetTop;
	     }
	     while(currentElement = currentElement.offsetParent)
	   
	     var canvasX = event.pageX - totalOffsetX;
	     var canvasY = event.pageY - totalOffsetY;
	   
	     return {x:canvasX, y:canvasY}
	   }

	   canvas.onmousedown = function ( ev ){
	     if (!ev.which) // Use w3c defns in preference to MS
	       switch (ev.button) {
	       case 0: ev.which = 1; break;
	       case 1: 
	       case 4: ev.which = 2; break;
	       case 2: ev.which = 3;
	     }
	     drag = ev.which;
	     var f = mousedown[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y); 
	       ev.preventDefault();
	     }
	   }    

	   canvas.onmouseup = function ( ev ){	
	     drag = 0;
	   }
	   
	   canvas.onmouseout = canvas.onmouseup;

	   canvas.onmousemove = function ( ev ){
	     if ( drag == 0 ) return;
	     var f = mousemove[drag-1];
	     if (f) {
	       var coords = relMouseCoords(ev);
	       f(coords.x, height-coords.y);
	     }
	   }

	   var wheelHandler = function(ev) {
	     var del = 1.1;
	     if (ev.shiftKey) del = 1.01;
	     var ds = ((ev.detail || ev.wheelDelta) > 0) ? del : (1 / del);
	     zoom *= ds;
	     drawScene();
	     ev.preventDefault();
	   };
	   canvas.addEventListener("DOMMouseScroll", wheelHandler, false);
	   canvas.addEventListener("mousewheel", wheelHandler, false);

	}
	</script>

	<canvas id="colorspacecanvas" width="1" height="1"></canvas> 
        <p id="colorspacedebug">
	<img src="colorspacesnapshot.png" alt="colorspacesnapshot" width=400/><br>
	You must enable Javascript to view this page properly.</p>
A plot of the "sequential_hcl" color palette from the colorspace package.
</div>

<p>After inspecting the code, the hue value in this color palette never changes. So it seems that we're encountering a substantial rounding error when you get the the dark/light edges of the color palette.

<h3>Summary</h3>

<p>I'm still a bit perplexed by the results I observer, but I suppose this analysis hints at a few things. 

<p>First of all, I realized that it very much matters which color space you're working in when designing color palettes. As the lack of a correlation between the R<sup>2</sup> values from RGB space and HCL space show, the movement of different palettes through these spaces are drastically different and don't seem to be correlated.

<p>Second, it looks like there is some potential to optimize the spacing of colors in a given palette by finding these "hotspots" in the Luminance vs. Chroma plot. On the other hand, movement along the hue axis for a given palette doesn't seem to have much of an effect on the visual appeal.

<p>Finally, it seems that the rounding error on hex codes and 255-value RGB values becomes significant for especially dark or bright ends of a palette. This may put into question the effectiveness of such analysis in 3D space. Of course, the hue value represents a complete circle, so a hue of 359 is very close to a hue of 0, which wouldn't be captured in a naive 3D analysis. Even accounting for this problem, there are other nuances of this color space which can't be captured in 3D space, and may jeopardize the effectiveness of PCA in such a space.

<h3>Future Work</h3>

<p>As mentioned previously, it will be interesting to analyze not just the visual appeal of a color palette, but the effectiveness of a palette at communicating information. Hopefully the next post will be able to capture some of that information.

<p>As always, comments are welcome! I'm well outside the scope of my training and expertise, so I'd be happy to hear any critiques or concerns about methodology.

<h3>Acknowledgements</h3>
<ul>
<li>All analysis done in <a href = "http://www.r-project.org/">R</a></li>
<li>All ratings generated using <a href = "https://www.mturk.com/mturk/welcome">Amazon Mechanical Turk</a></li>
<li>Interactive 3D graphics generated using <a href = "http://r-forge.r-project.org/projects/rgl">rgl version 0.92.879</a></li>
<li>Report generated using <a href = "http://yihui.name/knitr/">knitr</a></li>
<li>Code hosted by <a href = "http://github.com">GitHub</a> in <a href = "https://github.com/trestletech/RGB-Space">trestletech/RGB-Space</a></li>
<li>Color palettes obtained from Cynthia Brewer's <a href = "http://colorbrewer2.org/">ColorBrewer2.0</a> service</li>
<li>Idea from <a href = "http://eeecon.uibk.ac.at/~zeileis/">Achim Zeileis</a></li>
</ul>

</body>
</html>
